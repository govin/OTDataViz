d3=function(){function wu(n){return n.target}function bu(n){return n.source}function uy(n,t){try{for(var i in t)Object.defineProperty(n.prototype,i,{value:t[i],enumerable:!1})}catch(r){n.prototype=t}}function fy(n){for(var t=-1,r=n.length,i=[];++t<r;)i.push(n[t]);return i}function ey(n){return Array.prototype.slice.call(n)}function ft(){}function d(n){return n}function ei(){return!0}function f(n){return typeof n=="function"?n:function(){return n}}function oy(n,t,i){return function(){var r=i.apply(t,arguments);return r===t?n:r}}function du(n){return n!=null&&!isNaN(n)}function sy(n){return n.length}function ss(n){return n.trim().replace(/\s+/g," ")}function hy(n){for(var t=1;n*t%1;)t*=10;return t}function cy(n){return n.length===1?function(t,i){n(t==null?i:null)}:n}function ly(n){return n.responseText}function ay(n){return JSON.parse(n.responseText)}function vy(n){var t=k.createRange();return t.selectNode(k.body),t.createContextualFragment(n.responseText)}function yy(n){return n.responseXML}function nf(){}function cs(n){function r(){for(var i=t,r=-1,f=i.length,u;++r<f;)(u=i[r].on)&&u.apply(this,arguments);return n}var t=[],i=new ft;return r.on=function(r,u){var f=i.get(r),e;return arguments.length<2?f&&f.on:(f&&(f.on=null,t=t.slice(0,e=t.indexOf(f)).concat(t.slice(e+1)),i.remove(r)),u&&t.push(i.set(r,{on:u})),n)},r}function tf(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function py(n){return n+""}function wy(n,t){var i=Math.pow(10,Math.abs(8-t)*3);return{scale:t>8?function(n){return n/i}:function(n){return n*i},symbol:n}}function dy(n){return function(t){return t<=0?0:t>=1?1:n(t)}}function ws(n){return function(t){return 1-n(1-t)}}function bs(n){return function(t){return.5*(t<.5?n(2*t):2-n(2-2*t))}}function gy(n){return n*n}function np(n){return n*n*n}function tp(n){if(n<=0)return 0;if(n>=1)return 1;var t=n*n,i=t*n;return 4*(n<.5?i:3*(n-t)+i-.75)}function ip(n){return function(t){return Math.pow(t,n)}}function rp(n){return 1-Math.cos(n*t/2)}function up(n){return Math.pow(2,10*(n-1))}function fp(n){return 1-Math.sqrt(1-n*n)}function ep(n,i){var r;return arguments.length<2&&(i=.45),arguments.length?r=i/(2*t)*Math.asin(1/n):(n=1,r=i/4),function(u){return 1+n*Math.pow(2,10*-u)*Math.sin((u-r)*2*t/i)}}function op(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function sp(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function g(){n.event.stopPropagation(),n.event.preventDefault()}function ks(){for(var t=n.event,i;i=t.sourceEvent;)t=i;return t}function rf(t){for(var i=new nf,r=0,u=arguments.length;++r<u;)i[arguments[r]]=cs(i);return i.of=function(r,u){return function(f){try{var e=f.sourceEvent=n.event;f.target=t,n.event=f,i[f.type].apply(r,u)}finally{n.event=e}}},i}function ds(n){var t=[n.a,n.b],i=[n.c,n.d],r=nh(t),u=gs(t,i),f=nh(hp(i,t,-u))||0;t[0]*i[1]<i[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,u*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-i[0],i[1]))*e,this.translate=[n.e,n.f],this.scale=[r,f],this.skew=f?Math.atan2(u,f)*e:0}function gs(n,t){return n[0]*t[0]+n[1]*t[1]}function nh(n){var t=Math.sqrt(gs(n,n));return t&&(n[0]/=t,n[1]/=t),t}function hp(n,t,i){return n[0]+=i*t[0],n[1]+=i*t[1],n}function uf(t){return t=="transform"?n.interpolateTransform:n.interpolate}function cp(n,t){return t=t-(n=+n)?1/(t-n):0,function(i){return(i-n)*t}}function lp(n,t){return t=t-(n=+n)?1/(t-n):0,function(i){return Math.max(0,Math.min(1,(i-n)*t))}}function dt(){}function et(n,t,i){return new ff(n,t,i)}function ff(n,t,i){this.r=n,this.g=t,this.b=i}function gt(n){return n<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function ef(n,t,i){var r=0,u=0,e=0,o,f,s;if(o=/([a-z]+)\((.*)\)/i.exec(n),o){f=o[2].split(",");switch(o[1]){case"hsl":return i(parseFloat(f[0]),parseFloat(f[1])/100,parseFloat(f[2])/100);case"rgb":return t(sf(f[0]),sf(f[1]),sf(f[2]))}}return(s=hi.get(n))?t(s.r,s.g,s.b):(n!=null&&n.charAt(0)==="#"&&(n.length===4?(r=n.charAt(1),r+=r,u=n.charAt(2),u+=u,e=n.charAt(3)+e):n.length===7&&(r=n.substring(1,3),u=n.substring(3,5),e=n.substring(5,7)),r=parseInt(r,16),u=parseInt(u,16),e=parseInt(e,16)),t(r,u,e))}function ih(n,t,i){var f=Math.min(n/=255,t/=255,i/=255),r=Math.max(n,t,i),u=r-f,e,o,s=(r+f)/2;return u?(o=s<.5?u/(r+f):u/(2-r-f),e=(n==r?(t-i)/u+(t<i?6:0):t==r?(i-n)/u+2:(n-t)/u+4)*60):o=e=0,ni(e,o,s)}function rh(n,t,i){n=of(n),t=of(t),i=of(i);var u=vf((.4124564*n+.3575761*t+.1804375*i)/uh),r=vf((.2126729*n+.7151522*t+.072175*i)/fh),f=vf((.0193339*n+.119192*t+.9503041*i)/eh);return ti(116*r-16,500*(u-r),200*(r-f))}function of(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function sf(n){var t=parseFloat(n);return n.charAt(n.length-1)==="%"?Math.round(t*2.55):t}function ni(n,t,i){return new hf(n,t,i)}function hf(n,t,i){this.h=n,this.s=t,this.l=i}function rr(n,t,i){function e(n){return(n>360?n-=360:n<0&&(n+=360),n<60)?r+(u-r)*n/60:n<180?u:n<240?r+(u-r)*(240-n)/60:r}function f(n){return Math.round(e(n)*255)}var r,u;return n=n%360,n<0&&(n+=360),t=t<0?0:t>1?1:t,i=i<0?0:i>1?1:i,u=i<=.5?i*(1+t):i+t-i*t,r=2*i-u,et(f(n+120),f(n),f(n-120))}function ci(n,t,i){return new ur(n,t,i)}function ur(n,t,i){this.h=n,this.c=t,this.l=i}function cf(n,t,r){return ti(r,Math.cos(n*=i)*t,Math.sin(n)*t)}function ti(n,t,i){return new er(n,t,i)}function er(n,t,i){this.l=n,this.a=t,this.b=i}function oh(n,t,i){var r=(n+16)/116,u=r+t/500,f=r-i/200;return u=af(u)*uh,r=af(r)*fh,f=af(f)*eh,et(yf(3.2404542*u-1.5371385*r-.4985314*f),yf(-.969266*u+1.8760108*r+.041556*f),yf(.0556434*u-.2040259*r+1.0572252*f))}function sh(n,i,r){return ci(Math.atan2(r,i)/t*180,Math.sqrt(i*i+r*r),n)}function af(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function vf(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function yf(n){return Math.round(255*(n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function ot(n){return gi(n,u),n}function lh(n){return function(){return sr(n,this)}}function ah(n){return function(){return hh(n,this)}}function vh(t,i){function r(){this.removeAttribute(t)}function u(){this.removeAttributeNS(t.space,t.local)}function f(){this.setAttribute(t,i)}function e(){this.setAttributeNS(t.space,t.local,i)}function o(){var n=i.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=i.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=n.ns.qualify(t),i==null?t.local?u:r:typeof i=="function"?t.local?s:o:t.local?e:f}function yh(t){return new RegExp("(?:^|\\s+)"+n.requote(t)+"(?:\\s+|$)","g")}function ph(n,t){function r(){for(var r=-1;++r<i;)n[r](this,t)}function u(){for(var r=-1,u=t.apply(this,arguments);++r<i;)n[r](this,u)}n=n.trim().split(/\s+/).map(vp);var i=n.length;return typeof t=="function"?u:r}function vp(n){var t=yh(n);return function(i,r){if(f=i.classList)return r?f.add(n):f.remove(n);var f=i.className,e=f.baseVal!=null,u=e?f.baseVal:f;r?(t.lastIndex=0,t.test(u)||(u=ss(u+" "+n),e?f.baseVal=u:i.className=u)):u&&(u=ss(u.replace(t," ")),e?f.baseVal=u:i.className=u)}}function wh(n,t,i){function r(){this.style.removeProperty(n)}function u(){this.style.setProperty(n,t,i)}function f(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,i)}return t==null?r:typeof t=="function"?f:u}function bh(n,t){function i(){delete this[n]}function r(){this[n]=t}function u(){var i=t.apply(this,arguments);i==null?delete this[n]:this[n]=i}return t==null?i:typeof t=="function"?u:r}function pf(n){return{__data__:n}}function kh(n){return function(){return ch(this,n)}}function yp(t){return arguments.length||(t=n.ascending),function(n,i){return!n-!i||t(n.__data__,i.__data__)}}function dh(t,i,r){function e(){var n=this[u];n&&(this.removeEventListener(t,n,n.$),delete this[u])}function o(){function f(t){var r=n.event;n.event=t,s[0]=o.__data__;try{i.apply(o,s)}finally{n.event=r}}var o=this,s=ut(arguments);e.call(this),this.addEventListener(t,this[u]=f,f.$=r),f._=i}var u="__on"+t,f=t.indexOf(".");return f>0&&(t=t.substring(0,f)),i?o:e}function at(n,t){for(var i=0,u=n.length;i<u;i++)for(var f=n[i],r=0,o=f.length,e;r<o;r++)(e=f[r])&&t(e,r,i);return n}function gh(n){return gi(n,vt),n}function li(n,t){return gi(n,o),n.id=t,n}function cr(t,i,r,u){var f=t.__transition__||(t.__transition__={active:0,count:0}),e=f[r],o;if(!e)return o=u.time,e=f[r]={tween:new ft,event:n.dispatch("start","end"),time:o,ease:u.ease,delay:u.delay,duration:u.duration},++f.count,n.timer(function(u){function v(u){return f.active>r?l():(f.active=r,a.start.call(t,s,i),e.tween.forEach(function(n,r){(r=r.call(t,s,i))&&c.push(r)}),y(u)||n.timer(y,0,o),1)}function y(n){if(f.active!==r)return l();for(var u=(n-h)/w,o=p(u),e=c.length;e>0;)c[--e].call(t,o);if(u>=1)return l(),a.end.call(t,s,i),1}function l(){return--f.count?delete f[r]:delete t.__transition__,1}var s=t.__data__,p=e.ease,a=e.event,h=e.delay,w=e.duration,c=[];return h<=u?v(u):n.timer(v,h,o),1},0,o),e}function pp(n){return n==null&&(n=""),function(){this.textContent=n}}function wf(n,t,i,r){var u=n.id;return at(n,typeof i=="function"?function(n,f,e){n.__transition__[u].tween.set(t,r(i.call(n,n.__data__,f,e)))}:(i=r(i),function(n){n.__transition__[u].tween.set(t,i)}))}function kf(){for(var i,r=Date.now(),n=ui,t;n;)i=r-n.then,i>=n.delay&&(n.flush=n.callback(i)),n=n.next;t=tc()-r,t>24?(isFinite(t)&&(clearTimeout(ar),ar=setTimeout(kf,t)),lr=0):(lr=1,df(kf))}function tc(){for(var t=null,n=ui,i=Infinity;n;)n.flush?(delete bf[n.callback.id],n=t?t.next=n.next:ui=n.next):(i=Math.min(i,n.then+n.delay),n=(t=n).next);return i}function ic(t,i){var u=t.ownerSVGElement||t,r,f,e;return u.createSVGPoint?(r=u.createSVGPoint(),vr<0&&(c.scrollX||c.scrollY)&&(u=n.select(k.body).append("svg").style("position","absolute").style("top",0).style("left",0),f=u[0][0].getScreenCTM(),vr=!(f.f||f.e),u.remove()),vr?(r.x=i.pageX,r.y=i.pageY):(r.x=i.clientX,r.y=i.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]):(e=t.getBoundingClientRect(),[i.clientX-e.left-t.clientLeft,i.clientY-e.top-t.clientTop])}function w(){}function vi(n){var t=n[0],i=n[n.length-1];return t<i?[t,i]:[i,t]}function yr(n){return n.rangeExtent?n.rangeExtent():vi(n.range())}function pr(n,t){var u=0,f=n.length-1,i=n[u],r=n[f],e;return r<i&&(e=u,u=f,f=e,e=i,i=r,r=e),(t=t(r-i))&&(n[u]=t.floor(i),n[f]=t.ceil(r)),n}function bp(){return Math}function rc(t,i,r,u){function e(){var e=Math.min(t.length,i.length)>2?dp:kp,h=u?lp:cp;return o=e(t,i,h,r),s=e(i,t,h,n.interpolate),f}function f(n){return o(n)}var o,s;return f.invert=function(n){return s(n)},f.domain=function(n){return arguments.length?(t=n.map(Number),e()):t},f.range=function(n){return arguments.length?(i=n,e()):i},f.rangeRound=function(t){return f.range(t).interpolate(n.interpolateRound)},f.clamp=function(n){return arguments.length?(u=n,e()):u},f.interpolate=function(n){return arguments.length?(r=n,e()):r},f.ticks=function(n){return gf(t,n)},f.tickFormat=function(n){return ne(t,n)},f.nice=function(){return pr(t,fc),e()},f.copy=function(){return rc(t,i,r,u)},e()}function uc(t,i){return n.rebind(t,i,"range","rangeRound","interpolate","clamp")}function fc(n){return n=Math.pow(10,Math.round(Math.log(n)/Math.LN10)-1),n&&{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}}function ec(n,t){var r=vi(n),f=r[1]-r[0],i=Math.pow(10,Math.floor(Math.log(f/t)/Math.LN10)),u=t/f*i;return u<=.15?i*=10:u<=.35?i*=5:u<=.75&&(i*=2),r[0]=Math.ceil(r[0]/i)*i,r[1]=Math.floor(r[1]/i)*i+i*.5,r[2]=i,r}function gf(t,i){return n.range.apply(n,ec(t,i))}function ne(t,i){return n.format(",."+Math.max(0,-Math.floor(Math.log(ec(t,i)[2])/Math.LN10+.01))+"f")}function kp(n,t,i,r){var u=i(n[0],n[1]),f=r(t[0],t[1]);return function(n){return f(u(n))}}function dp(t,i,r,u){var o=[],s=[],f=0,e=Math.min(t.length,i.length)-1;for(t[e]<t[0]&&(t=t.slice().reverse(),i=i.slice().reverse());++f<=e;)o.push(r(t[f-1],t[f])),s.push(u(i[f-1],i[f]));return function(i){var r=n.bisect(t,i,1,e)-1;return s[r](o[r](i))}}function oc(n,t){function r(i){return n(t(i))}var i=t.pow;return r.invert=function(t){return i(n.invert(t))},r.domain=function(u){return arguments.length?(t=u[0]<0?wr:te,i=t.pow,n.domain(u.map(t)),r):n.domain().map(i)},r.nice=function(){return n.domain(pr(n.domain(),bp)),r},r.ticks=function(){var o=vi(n.domain()),u=[],f;if(o.every(isFinite)){var r=Math.floor(o[0]),e=Math.ceil(o[1]),s=i(o[0]),h=i(o[1]);if(t===wr)for(u.push(i(r));r++<e;)for(f=9;f>0;f--)u.push(i(r)*f);else{for(;r<e;r++)for(f=1;f<10;f++)u.push(i(r)*f);u.push(i(r))}for(r=0;u[r]<s;r++);for(e=u.length;u[e-1]>h;e--);u=u.slice(r,e)}return u},r.tickFormat=function(n,u){if(arguments.length<2&&(u=sc),!arguments.length)return u;var e=Math.max(.1,n/r.ticks().length),o=t===wr?(f=-1e-12,Math.floor):(f=1e-12,Math.ceil),f;return function(n){return n/i(o(t(n)+f))<=e?u(n):""}},r.copy=function(){return oc(n.copy(),t)},uc(r,n)}function te(n){return Math.log(n<0?0:n)/Math.LN10}function wr(n){return-Math.log(n>0?0:-n)/Math.LN10}function hc(n,t){function i(t){return n(r(t))}var r=br(t),u=br(1/t);return i.invert=function(t){return u(n.invert(t))},i.domain=function(t){return arguments.length?(n.domain(t.map(r)),i):n.domain().map(u)},i.ticks=function(n){return gf(i.domain(),n)},i.tickFormat=function(n){return ne(i.domain(),n)},i.nice=function(){return i.domain(pr(i.domain(),fc))},i.exponent=function(n){if(!arguments.length)return t;var f=i.domain();return r=br(t=n),u=br(1/t),i.domain(f)},i.copy=function(){return hc(n.copy(),t)},uc(i,n)}function br(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function cc(t,i){function r(n){return u[((f.get(n)||f.set(n,t.push(n)))-1)%u.length]}function o(i,r){return n.range(t.length).map(function(n){return i+r*n})}var f,u,e;return r.domain=function(n){if(!arguments.length)return t;t=[],f=new ft;for(var e=-1,o=n.length,u;++e<o;)f.has(u=n[e])||f.set(u,t.push(u));return r[i.t].apply(r,i.a)},r.range=function(n){return arguments.length?(u=n,e=0,i={t:"range",a:arguments},r):u},r.rangePoints=function(n,f){arguments.length<2&&(f=0);var s=n[0],h=n[1],c=(h-s)/(Math.max(1,t.length-1)+f);return u=o(t.length<2?(s+h)/2:s+c*f/2,c),e=0,i={t:"rangePoints",a:arguments},r},r.rangeBands=function(n,f,s){arguments.length<2&&(f=0),arguments.length<3&&(s=f);var h=n[1]<n[0],l=n[+h],a=n[1-h],c=(a-l)/(t.length-f+2*s);return u=o(l+c*s,c),h&&u.reverse(),e=c*(1-f),i={t:"rangeBands",a:arguments},r},r.rangeRoundBands=function(n,f,s){arguments.length<2&&(f=0),arguments.length<3&&(s=f);var h=n[1]<n[0],c=n[+h],a=n[1-h],l=Math.floor((a-c)/(t.length-f+2*s)),v=a-c-(t.length-f)*l;return u=o(c+Math.round(v/2),l),h&&u.reverse(),e=Math.round(l*(1-f)),i={t:"rangeRoundBands",a:arguments},r},r.rangeBand=function(){return e},r.rangeExtent=function(){return vi(i.a[0])},r.copy=function(){return cc(t,i)},r.domain(t)}function lc(t,i){function f(){var f=0,e=i.length;for(u=[];++f<e;)u[f-1]=n.quantile(t,f/e);return r}function r(t){return isNaN(t=+t)?NaN:i[n.bisect(u,t)]}var u;return r.domain=function(i){return arguments.length?(t=i.filter(function(n){return!isNaN(n)}).sort(n.ascending),f()):t},r.range=function(n){return arguments.length?(i=n,f()):i},r.quantiles=function(){return u},r.copy=function(){return lc(t,i)},f()}function ac(n,t,i){function r(t){return i[Math.max(0,Math.min(e,Math.floor(f*(t-n))))]}function u(){return f=i.length/(t-n),e=i.length-1,r}var f,e;return r.domain=function(i){return arguments.length?(n=+i[0],t=+i[i.length-1],u()):[n,t]},r.range=function(n){return arguments.length?(i=n,u()):i},r.copy=function(){return ac(n,t,i)},u()}function vc(t,i){function r(r){return i[n.bisect(t,r)]}return r.domain=function(n){return arguments.length?(t=n,r):t},r.range=function(n){return arguments.length?(i=n,r):i},r.copy=function(){return vc(t,i)},r}function yc(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(i){return arguments.length?(n=i.map(t),t):n},t.ticks=function(t){return gf(n,t)},t.tickFormat=function(t){return ne(n,t)},t.copy=function(){return yc(n)},t}function rw(n){return n.innerRadius}function uw(n){return n.outerRadius}function wc(n){return n.startAngle}function bc(n){return n.endAngle}function kc(n){function t(t){function a(){c.push("M",i(n(o),s))}for(var c=[],o=[],h=-1,v=t.length,l,y=f(r),p=f(u);++h<v;)e.call(this,l=t[h],h)?o.push([+y.call(this,l,h),+p.call(this,l,h)]):o.length&&(a(),o=[]);return o.length&&a(),c.length?c.join(""):null}var r=ie,u=dc,e=ei,i=b,o=i.key,s=.7;return t.x=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(u=n,t):u},t.defined=function(n){return arguments.length?(e=n,t):e},t.interpolate=function(n){return arguments.length?(o=typeof n=="function"?i=n:(i=kr.get(n)||b).key,t):o},t.tension=function(n){return arguments.length?(s=n,t):s},t}function ie(n){return n[0]}function dc(n){return n[1]}function b(n){return n.join("L")}function fw(n){return b(n)+"Z"}function re(n){for(var i=0,u=n.length,t=n[0],r=[t[0],",",t[1]];++i<u;)r.push("V",(t=n[i])[1],"H",t[0]);return r.join("")}function ue(n){for(var i=0,u=n.length,t=n[0],r=[t[0],",",t[1]];++i<u;)r.push("H",(t=n[i])[0],"V",t[1]);return r.join("")}function ew(n,t){return n.length<4?b(n):n[1]+dr(n.slice(1,n.length-1),fe(n,t))}function ow(n,t){return n.length<3?b(n):n[0]+dr((n.push(n[0]),n),fe([n[n.length-2]].concat(n,[n[1]]),t))}function sw(n,t){return n.length<3?b(n):n[0]+dr(n,fe(n,t))}function dr(n,t){var o,h;if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return b(n);var c=n.length!=t.length,f="",s=n[0],i=n[1],e=t[0],r=e,u=1;if(c&&(f+="Q"+(i[0]-e[0]*2/3)+","+(i[1]-e[1]*2/3)+","+i[0]+","+i[1],s=n[1],u=2),t.length>1)for(r=t[1],i=n[u],u++,f+="C"+(s[0]+e[0])+","+(s[1]+e[1])+","+(i[0]-r[0])+","+(i[1]-r[1])+","+i[0]+","+i[1],o=2;o<t.length;o++,u++)i=n[u],r=t[o],f+="S"+(i[0]-r[0])+","+(i[1]-r[1])+","+i[0]+","+i[1];return c&&(h=n[u],f+="Q"+(i[0]+r[0]*2/3)+","+(i[1]+r[1]*2/3)+","+h[0]+","+h[1]),f}function fe(n,t){for(var u=[],f=(1-t)/2,r,e=n[0],i=n[1],o=1,s=n.length;++o<s;)r=e,e=i,i=n[o],u.push([f*(i[0]-r[0]),f*(i[1]-r[1])]);return u}function gc(n){if(n.length<3)return b(n);var u=1,s=n.length,t=n[0],f=t[0],e=t[1],i=[f,f,f,(t=n[1])[0]],r=[e,e,e,t[1]],o=[f,",",e];for(yi(o,i,r);++u<s;)t=n[u],i.shift(),i.push(t[0]),r.shift(),r.push(t[1]),yi(o,i,r);for(u=-1;++u<2;)i.shift(),i.push(t[0]),r.shift(),r.push(t[1]),yi(o,i,r);return o.join("")}function hw(n){if(n.length<4)return b(n);for(var f=[],i=-1,e=n.length,t,r=[0],u=[0];++i<3;)t=n[i],r.push(t[0]),u.push(t[1]);for(f.push(it(fi,r)+","+it(fi,u)),--i;++i<e;)t=n[i],r.shift(),r.push(t[0]),u.shift(),u.push(t[1]),yi(f,r,u);return f.join("")}function cw(n){for(var f,i=-1,e=n.length,o=e+4,t,r=[],u=[];++i<4;)t=n[i%e],r.push(t[0]),u.push(t[1]);for(f=[it(fi,r),",",it(fi,u)],--i;++i<o;)t=n[i%e],r.shift(),r.push(t[0]),u.shift(),u.push(t[1]),yi(f,r,u);return f.join("")}function lw(n,t){var i=n.length-1;if(i)for(var e=n[0][0],o=n[0][1],s=n[i][0]-e,h=n[i][1]-o,u=-1,r,f;++u<=i;)r=n[u],f=u/i,r[0]=t*r[0]+(1-t)*(e+f*s),r[1]=t*r[1]+(1-t)*(o+f*h);return gc(n)}function it(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function yi(n,t,i){n.push("C",it(nl,t),",",it(nl,i),",",it(tl,t),",",it(tl,i),",",it(fi,t),",",it(fi,i))}function ee(n,t){return(t[1]-n[1])/(t[0]-n[0])}function aw(n){for(var t=0,e=n.length-1,i=[],f=n[0],r=n[1],u=i[0]=ee(f,r);++t<e;)i[t]=(u+(u=ee(f=r,r=n[t+1])))/2;return i[t]=u,i}function vw(n){for(var s=[],u,f,e,i,r=aw(n),t=-1,o=n.length-1;++t<o;)u=ee(n[t],n[t+1]),Math.abs(u)<1e-6?r[t]=r[t+1]=0:(f=r[t]/u,e=r[t+1]/u,i=f*f+e*e,i>9&&(i=u*3/Math.sqrt(i),r[t]=i*f,r[t+1]=i*e));for(t=-1;++t<=o;)i=(n[Math.min(o,t+1)][0]-n[Math.max(0,t-1)][0])/(6*(1+r[t]*r[t])),s.push([i||0,r[t]*i||0]);return s}function yw(n){return n.length<3?b(n):n[0]+dr(n,vw(n))}function il(n){for(var t,u=-1,f=n.length,i,r;++u<f;)t=n[u],i=t[0],r=t[1]+yt,t[0]=i*Math.cos(r),t[1]=i*Math.sin(r);return n}function rl(n){function t(t){function d(){p.push("M",i(n(w),s),a,l(n(v.reverse()),s),"Z")}for(var p=[],v=[],w=[],c=-1,g=t.length,y,nt=f(e),tt=f(o),it=e===r?function(){return b}:f(r),rt=o===u?function(){return k}:f(u),b,k;++c<g;)h.call(this,y=t[c],c)?(v.push([b=+nt.call(this,y,c),k=+tt.call(this,y,c)]),w.push([+it.call(this,y,c),+rt.call(this,y,c)])):v.length&&(d(),v=[],w=[]);return v.length&&d(),p.length?p.join(""):null}var e=ie,r=ie,o=0,u=dc,h=ei,i=b,c=i.key,l=i,a="L",s=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(o=u=n,t):u},t.y0=function(n){return arguments.length?(o=n,t):o},t.y1=function(n){return arguments.length?(u=n,t):u},t.defined=function(n){return arguments.length?(h=n,t):h},t.interpolate=function(n){return arguments.length?(c=typeof n=="function"?i=n:(i=kr.get(n)||b).key,l=i.reverse||i,a=i.closed?"M":"L",t):c},t.tension=function(n){return arguments.length?(s=n,t):s},t}function pw(n){return n.radius}function ul(n){return[n.x,n.y]}function ww(n){return function(){var t=n.apply(this,arguments),i=t[0],r=t[1]+yt;return[i*Math.cos(r),i*Math.sin(r)]}}function bw(){return 64}function kw(){return"circle"}function fl(n){var i=Math.sqrt(n/t);return"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"Z"}function ol(n,t){n.attr("transform",function(n){return"translate("+t(n)+",0)"})}function sl(n,t){n.attr("transform",function(n){return"translate(0,"+t(n)+")"})}function dw(n,t,i){if(u=[],i&&t.length>1){for(var o=vi(n.domain()),u,f=-1,h=t.length,s=(t[1]-t[0])/++i,r,e;++f<h;)for(r=i;--r>0;)(e=+t[f]-r*s)>=o[0]&&u.push(e);for(--f,r=0;++r<i&&(e=+t[f]+r*s)<o[1];)u.push(e)}return u}function gw(n){for(var t=n.source,i=n.target,u=nb(t,i),r=[t],f;t!==u;)t=t.parent,r.push(t);for(f=r.length;i!==u;)r.splice(f,0,i),i=i.parent;return r}function ll(n){for(var i=[],t=n.parent;t!=null;)i.push(n),n=t,t=t.parent;return i.push(n),i}function nb(n,t){if(n===t)return n;for(var r=ll(n),u=ll(t),i=r.pop(),f=u.pop(),e=null;i===f;)e=i,i=r.pop(),f=u.pop();return e}function tb(n){n.fixed|=2}function ib(n){n.fixed&=-7}function rb(n){n.fixed|=4,n.px=n.x,n.py=n.y}function ub(n){n.fixed&=-5}function al(n,t,i){var f=0,e=0,u;if(n.charge=0,!n.leaf)for(var o=n.nodes,h=o.length,s=-1,r;++s<h;)(r=o[s],r!=null)&&(al(r,t,i),n.charge+=r.charge,f+=r.charge*r.cx,e+=r.charge*r.cy);n.point&&(n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5),u=t*i[n.point.index],n.charge+=n.pointCharge=u,f+=u*n.point.x,e+=u*n.point.y),n.cx=f/n.charge,n.cy=e/n.charge}function fb(n){return n.x}function eb(n){return n.y}function ob(n,t,i){n.y0=t,n.y=i}function ae(t){return n.range(t.length)}function ve(n){for(var t=-1,r=n[0].length,i=[];++t<r;)i[t]=0;return i}function sb(n){for(var t=1,i=0,r=n[0][1],u,f=n.length;t<f;++t)(u=n[t][1])>r&&(i=t,r=u);return i}function hb(n){return n.reduce(cb,0)}function cb(n,t){return n+t[1]}function lb(n,t){return bl(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function bl(n,t){for(var i=-1,r=+n[0],f=(n[1]-r)/t,u=[];++i<=t;)u[i]=f*i+r;return u}function ab(t){return[n.min(t),n.max(t)]}function wi(t,i){return n.rebind(t,i,"sort","children","value"),t.nodes=t,t.links=wb,t}function vb(n){return n.children}function yb(n){return n.value}function pb(n,t){return t.value-n.value}function wb(t){return n.merge(t.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function bb(n,t){return n.value-t.value}function ye(n,t){var i=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=i,i._pack_prev=t}function kl(n,t){n._pack_next=t,t._pack_prev=n}function dl(n,t){var i=t.x-n.x,r=t.y-n.y,u=n.r+t.r;return u*u-i*i-r*r>.001}function gl(n){function h(n){c=Math.min(n.x-n.r,c),l=Math.max(n.x+n.r,l),a=Math.min(n.y-n.r,a),v=Math.max(n.y+n.r,v)}if((u=n.children)&&(s=u.length)){var u,c=Infinity,l=-Infinity,a=Infinity,v=-Infinity,i,r,t,f,e,o,s;if(u.forEach(kb),i=u[0],i.x=-i.r,i.y=0,h(i),s>1&&(r=u[1],r.x=r.r,r.y=0,h(r),s>2))for(t=u[2],ta(i,r,t),h(t),ye(i,t),i._pack_prev=t,ye(t,r),r=i._pack_next,f=3;f<s;f++){ta(i,r,t=u[f]);var y=0,p=1,w=1;for(e=r._pack_next;e!==r;e=e._pack_next,p++)if(dl(e,t)){y=1;break}if(y==1)for(o=i._pack_prev;o!==e._pack_prev;o=o._pack_prev,w++)if(dl(o,t))break;y?(p<w||p==w&&r.r<i.r?kl(i,r=e):kl(i=o,r),f--):(ye(i,t),r=t,h(t))}var k=(c+l)/2,d=(a+v)/2,b=0;for(f=0;f<s;f++)t=u[f],t.x-=k,t.y-=d,b=Math.max(b,t.r+Math.sqrt(t.x*t.x+t.y*t.y));n.r=b,u.forEach(db)}}function kb(n){n._pack_next=n._pack_prev=n}function db(n){delete n._pack_next,delete n._pack_prev}function na(n,t,i,r){var u=n.children,f,e;if(n.x=t+=r*n.x,n.y=i+=r*n.y,n.r*=r,u)for(f=-1,e=u.length;++f<e;)na(u[f],t,i,r)}function ta(n,t,i){var r=n.r+i.r,f=t.x-n.x,e=t.y-n.y,u,o,s,h;r&&(f||e)?(u=t.r+i.r,o=f*f+e*e,u*=u,r*=r,s=.5+(r-u)/(2*o),h=Math.sqrt(Math.max(0,2*u*(r+o)-(r-=o)*r-u*u))/(2*o),i.x=n.x+s*f+h*e,i.y=n.y+s*e-h*f):(i.x=n.x+r,i.y=n.y)}function gb(t){return 1+n.max(t,function(n){return n.y})}function nk(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function ia(n){var t=n.children;return t&&t.length?ia(t[0]):n}function ra(n){var t=n.children,i;return t&&(i=t.length)?ra(t[i-1]):n}function ua(n,t){return n.parent==t.parent?1:2}function pe(n){var t=n.children;return t&&t.length?t[0]:n._tree.thread}function we(n){var t=n.children,i;return t&&(i=t.length)?t[i-1]:n._tree.thread}function tu(n,t){var i=n.children,u,f,r;if(i&&(f=i.length))for(r=-1;++r<f;)t(u=tu(i[r],t),n)>0&&(n=u);return n}function tk(n,t){return n.x-t.x}function ik(n,t){return t.x-n.x}function rk(n,t){return n.depth-t.depth}function st(n,t){function i(n,r){var u=n.children,f,e,o,s;if(u&&(s=u.length))for(e=null,o=-1;++o<s;)f=u[o],i(f,e),e=f;t(n,r)}i(n,null)}function uk(n){for(var i=0,f=0,r=n.children,u=r.length,t;--u>=0;)t=r[u]._tree,t.prelim+=i,t.mod+=i,i+=t.shift+(f+=t.change)}function fk(n,t,i){n=n._tree,t=t._tree;var r=i/(t.number-n.number);n.change+=r,t.change-=r,t.shift+=i,t.prelim+=i,t.mod+=i}function ek(n,t,i){return n._tree.ancestor.parent==t.parent?n._tree.ancestor:i}function be(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function fa(n,t){var u=n.x+t[3],f=n.y+t[0],i=n.dx-t[1]-t[3],r=n.dy-t[0]-t[2];return i<0&&(u+=i/2,i=0),r<0&&(f+=r/2,r=0),{x:u,y:f,dx:i,dy:r}}function ea(t,i){function r(t,r){return n.xhr(t,i,r).response(e)}function e(n){return r.parse(n.responseText)}function o(n){return n.map(s).join(t)}function s(n){return u.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var u=new RegExp('["'+t+"\n]"),f=t.charCodeAt(0);return r.parse=function(n){var t;return r.parseRows(n,function(n){if(t)return t(n);t=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}")})},r.parseRows=function(n,t){function l(){var e,t,u,c;if(i>=s)return o;if(r)return r=!1,h;if(e=i,n.charCodeAt(e)===34){for(t=e;t++<s;)if(n.charCodeAt(t)===34){if(n.charCodeAt(t+1)!==34)break;++t}return i=t+2,u=n.charCodeAt(t+1),u===13?(r=!0,n.charCodeAt(t+2)===10&&++i):u===10&&(r=!0),n.substring(e+1,t).replace(/""/g,'"')}while(i<s){if(u=n.charCodeAt(i++),c=1,u===10)r=!0;else if(u===13)r=!0,n.charCodeAt(i)===10&&(++i,++c);else if(u!==f)continue;return n.substring(e,i-c)}return n.substring(e)}for(var h={},o={},c=[],s=n.length,i=0,a=0,u,r,e;(u=l())!==o;){for(e=[];u!==h&&u!==o;)e.push(u),u=l();(!t||(e=t(e,a++)))&&c.push(e)}return c},r.format=function(n){return n.map(o).join("\n")},r}function iu(n,t){de.hasOwnProperty(n.type)&&de[n.type](n,t)}function ge(n,t,i){var u=-1,f=n.length-i,r;for(t.lineStart();++u<f;)r=n[u],t.point(r[0],r[1]);t.lineEnd()}function oa(n,t){var i=-1,r=n.length;for(t.polygonStart();++i<r;)ge(n[i],t,1);t.polygonEnd()}function sa(n){return[Math.atan2(n[1],n[0]),Math.asin(Math.max(-1,Math.min(1,n[2])))]}function ru(n,t){return Math.abs(n[0]-t[0])<r&&Math.abs(n[1]-t[1])<r}function uu(n){var t=n[0],i=n[1],r=Math.cos(i);return[r*Math.cos(t),r*Math.sin(t),Math.sin(i)]}function fu(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function ha(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function ca(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function no(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function ok(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function la(n){function f(t){function y(i,r){i=n(i,r),t.point(i[0],i[1])}function l(){f=NaN,r.point=a,t.lineStart()}function a(r,l){var a=uu([r,l]),v=n(r,l);i(f,e,c,o,s,h,f=v[0],e=v[1],c=r,o=a[0],s=a[1],h=a[2],u,t),t.point(f,e)}function v(){r.point=y,t.lineEnd()}function p(){var n,d,y,p,w,b,k;l(),r.point=function(t,i){a(n=t,d=i),y=f,p=e,w=o,b=s,k=h,r.point=a},r.lineEnd=function(){i(f,e,c,o,s,h,y,p,n,w,b,k,u,t),r.lineEnd=v,v()}}var c,f,e,o,s,h,r={point:y,lineStart:l,lineEnd:v,polygonStart:function(){t.polygonStart(),r.lineStart=p},polygonEnd:function(){t.polygonEnd(),r.lineStart=l}};return r}function i(u,f,e,o,s,h,c,l,a,v,y,p,w,b){var nt=c-u,tt=l-f,ut=nt*nt+tt*tt;if(ut>4*t&&w--){var d=o+v,g=s+y,k=h+p,ft=Math.sqrt(d*d+g*g+k*k),lt=Math.asin(k/=ft),et=Math.abs(Math.abs(k)-1)<r?(e+a)/2:Math.atan2(g,d),ot=n(et,lt),it=ot[0],rt=ot[1],st=it-u,ht=rt-f,ct=tt*st-nt*ht;(ct*ct/ut>t||Math.abs((nt*st+tt*ht)/ut-.5)>.3)&&(i(u,f,e,o,s,h,it,rt,et,d/=ft,g/=ft,k,w,b),b.point(it,rt),i(it,rt,et,d,g,k,c,l,a,v,y,p,w,b))}}var t=.5,u=16;return f.precision=function(n){return arguments.length?(u=(t=n*n)>0&&16,f):Math.sqrt(t)},f}function aa(n,t){function e(n,t){var r=Math.sqrt(u-2*i*Math.sin(t))/i;return[r*Math.sin(n*=i),f-r*Math.cos(n)]}var r=Math.sin(n),i=(r+Math.sin(t))/2,u=1+r*(2*i-r),f=Math.sqrt(u)/i;return e.invert=function(n,t){var r=f-t;return[Math.atan2(n,r)/i,Math.asin((u-(n*n+r*r)*i*i)/(2*i))]},e}function va(t){function o(n,t){n<r&&(r=n),n>f&&(f=n),t<u&&(u=t),t>e&&(e=t)}function s(){i.point=i.lineEnd=w}var r,u,f,e,i={point:o,lineStart:w,lineEnd:w,polygonStart:function(){i.lineEnd=s},polygonEnd:function(){i.point=o}};return function(o){return e=f=-(r=u=Infinity),n.geo.stream(o,t(i)),[[r,u],[f,e]]}}function ya(n,t){if(!h){++rt,n*=i;var r=Math.cos(t*=i);l+=(r*Math.cos(n)-l)/rt,a+=(r*Math.sin(n)-a)/rt,s+=(Math.sin(t)-s)/rt}}function sk(){var n,t,i;h=1,ro(),h=2,i=nt.point,nt.point=function(r,u){i(n=r,t=u)},nt.lineEnd=function(){nt.point(n,t),uo(),nt.lineEnd=uo}}function ro(){function u(u,f){u*=i;var v=Math.cos(f*=i),o=v*Math.cos(u),h=v*Math.sin(u),c=Math.sin(f),e=Math.atan2(Math.sqrt((e=t*c-r*h)*e+(e=r*o-n*c)*e+(e=n*h-t*o)*e),n*o+t*h+r*c);rt+=e,l+=e*(n+(n=o)),a+=e*(t+(t=h)),s+=e*(r+(r=c))}var n,t,r;h>1||(h<1&&(h=1,rt=l=a=s=0),nt.point=function(f,e){f*=i;var o=Math.cos(e*=i);n=o*Math.cos(f),t=o*Math.sin(f),r=Math.sin(e),nt.point=u})}function uo(){nt.point=ya}function fo(n,i){var r=Math.cos(n),u=Math.sin(n);return function(f,e,o,s){var c,l,h;for(f!=null?(f=pa(r,f),e=pa(r,e),(o>0?f<e:f>e)&&(f+=o*2*t)):(f=n+o*2*t,e=n),l=o*i,h=f;o>0?h>e:h<e;h-=l)s.point((c=sa([r,-u*Math.cos(h),-u*Math.sin(h)]))[0],c[1])}}function pa(n,t){var i=uu(t),u;return i[0]-=n,ok(i),u=Math.acos(Math.max(-1,Math.min(1,-i[1]))),((-i[2]<0?-u:u)+2*Math.PI-r)%(2*Math.PI)}function wa(t,i,u){return function(f){function l(n,i){t(n,i)&&f.point(n,i)}function d(n,t){c.point(n,t)}function p(){e.point=d,c.lineStart()}function w(){e.point=l,c.lineEnd()}function k(n,t){h.point(n,t),s.push([n,t])}function g(){h.lineStart(),s=[]}function nt(){var t,r,e;k(s[0][0],s[0][1]),h.lineEnd();var u=h.clean(),n=b.buffer(),i,t=n.length;if(!t){y=!0,v+=ka(s,-1),s=null;return}if(s=null,u&1){for(i=n[0],a+=ka(i,1),t=i.length-1,r=-1,f.lineStart();++r<t;)f.point((e=i[r])[0],e[1]);f.lineEnd();return}t>1&&u&2&&n.push(n.pop().concat(n.shift())),o.push(n.filter(lk))}var c=i(f),e={point:l,lineStart:p,lineEnd:w,polygonStart:function(){e.point=k,e.lineStart=g,e.lineEnd=nt,y=!1,v=a=0,o=[],f.polygonStart()},polygonEnd:function(){e.point=l,e.lineStart=p,e.lineEnd=w,o=n.merge(o),o.length?hk(o,u,f):(a<-r||y&&v<-r)&&(f.lineStart(),u(null,null,1,f),f.lineEnd()),f.polygonEnd(),o=null},sphere:function(){f.polygonStart(),f.lineStart(),u(null,null,1,f),f.lineEnd(),f.polygonEnd()}},o,a,v,y,b=ak(),h=i(b),s;return e}}function hk(n,t,i){var e=[],o=[],h,r,f,s,u;if(n.forEach(function(n){var h,r,u,s,t,f;if(!((h=n.length)<=1)){if(r=n[0],u=n[h-1],ru(r,u)){for(i.lineStart(),s=0;s<h;++s)i.point((r=n[s])[0],r[1]);i.lineEnd();return}t={point:r,points:n,other:null,visited:!1,entry:!0,subject:!0},f={point:r,points:[r],other:t,visited:!1,entry:!1,subject:!1},t.other=f,e.push(t),o.push(f),t={point:u,points:[u],other:null,visited:!1,entry:!1,subject:!0},f={point:u,points:[u],other:t,visited:!1,entry:!0,subject:!1},t.other=f,e.push(t),o.push(f)}}),o.sort(ck),ba(e),ba(o),e.length)for(h=e[0];;){for(r=h;r.visited;)if((r=r.next)===h)return;f=r.points,i.lineStart();do{if(r.visited=r.other.visited=!0,r.entry){if(r.subject)for(u=0;u<f.length;u++)i.point((s=f[u])[0],s[1]);else t(r.point,r.next.point,1,i);r=r.next}else{if(r.subject)for(f=r.prev.points,u=f.length;--u>=0;)i.point((s=f[u])[0],s[1]);else t(r.point,r.prev.point,-1,i);r=r.prev}r=r.other,f=r.points}while(!r.visited);i.lineEnd()}}function ba(n){if(r=n.length){for(var r,u=0,t=n[0],i;++u<r;)t.next=i=n[u],i.prev=t,t=i;t.next=i=n[0],i.prev=t}}function ck(n,i){return((n=n.point)[0]<0?n[1]-t/2-r:t/2-n[1])-((i=i.point)[0]<0?i[1]-t/2-r:t/2-i[1])}function lk(n){return n.length>1}function ak(){var n=[],t;return{lineStart:function(){n.push(t=[])},point:function(n,i){t.push([n,i])},lineEnd:w,buffer:function(){var i=n;return n=[],t=null,i}}}function ka(n,i){if(!(v=n.length))return 0;for(var v,y=0,a=0,s=n[0],c=s[0],l=s[1],h=Math.cos(l),u=Math.atan2(i*Math.sin(c)*h,Math.sin(l)),f=1-i*Math.cos(c)*h,p=u,e,o;++y<v;)(s=n[y],h=Math.cos(l=s[1]),e=Math.atan2(i*Math.sin(c=s[0])*h,Math.sin(l)),o=1-i*Math.cos(c)*h,Math.abs(f-2)<r&&Math.abs(o-2)<r)||(Math.abs(o)<r||Math.abs(f)<r||(Math.abs(Math.abs(e-u)-t)<r?o+f>2&&(a+=4*(e-u)):a+=Math.abs(f-2)<r?4*(e-p):((3*t+e-u)%(2*t)-t)*(f+o)),p=u,u=e,f=o);return a}function vk(n){var u=NaN,i=NaN,f=NaN,e;return{lineStart:function(){n.lineStart(),e=1},point:function(o,s){var h=o>0?t:-t,c=Math.abs(o-u);Math.abs(c-t)<r?(n.point(u,i=(i+s)/2>0?t/2:-t/2),n.point(f,i),n.lineEnd(),n.lineStart(),n.point(h,i),n.point(o,i),e=0):f!==h&&c>=t&&(Math.abs(u-f)<r&&(u-=f*r),Math.abs(o-h)<r&&(o-=h*r),i=yk(u,i,o,s),n.point(f,i),n.lineEnd(),n.lineStart(),n.point(h,i),e=0),n.point(u=o,i=s),f=h},lineEnd:function(){n.lineEnd(),u=i=NaN},clean:function(){return 2-e}}}function yk(n,t,i,u){var f,e,o=Math.sin(n-i);return Math.abs(o)>r?Math.atan((Math.sin(t)*(e=Math.cos(u))*Math.sin(i)-Math.sin(u)*(f=Math.cos(t))*Math.sin(n))/(f*e*o)):(t+u)/2}function pk(n,i,u,f){var e,o;n==null?(e=u*t/2,f.point(-t,e),f.point(0,e),f.point(t,e),f.point(t,0),f.point(t,-e),f.point(0,-e),f.point(-t,-e),f.point(-t,0),f.point(-t,e)):Math.abs(n[0]-i[0])>r?(o=(n[0]<i[0]?1:-1)*t,e=u*o/2,f.point(-o,e),f.point(0,e),f.point(o,e)):f.point(i[0],i[1])}function wk(n){function u(n,i){return Math.cos(n)*Math.cos(i)>t}function s(n){var t,i,e,o;return{lineStart:function(){e=i=!1,o=1},point:function(s,h){var c=[s,h],l,a=u(s,h);!t&&(e=i=a)&&n.lineStart(),a!==i&&(l=f(t,c),(ru(t,l)||ru(c,l))&&(c[0]+=r,c[1]+=r,a=u(c[0],c[1]))),a!==i&&(o=0,(i=a)?(n.lineStart(),l=f(c,t),n.point(l[0],l[1])):(l=f(t,c),n.point(l[0],l[1]),n.lineEnd()),t=l),!a||t&&ru(t,c)||n.point(c[0],c[1]),t=c},lineEnd:function(){i&&n.lineEnd(),t=null},clean:function(){return o|(e&&i)<<1}}}function f(n,i){var v=uu(n,0),y=uu(i,0),h=[1,0,0],r=ha(v,y),c=fu(r,r),e=r[0],o=c-e*e;if(!o)return n;var p=t*c/o,w=-t*e/o,b=ha(h,r),u=no(h,p),k=no(r,w);ca(u,k);var f=b,s=fu(u,f),l=fu(f,f),d=Math.sqrt(s*s-l*(fu(u,u)-1)),a=no(f,(-s-d)/l);return ca(a,u),sa(a)}var e=n*i,t=Math.cos(e),o=fo(e,6*i);return wa(u,s,o)}function da(n,t){function i(i,r){return i=n(i,r),t(i[0],i[1])}return n.invert&&t.invert&&(i.invert=function(i,r){return i=t.invert(i,r),i&&n.invert(i[0],i[1])}),i}function eu(n,t){return[n,t]}function bk(t,i,u){var f=n.range(t,i-r,u).concat(i);return function(n){return f.map(function(t){return[n,t]})}}function kk(t,i,u){var f=n.range(t,i-r,u).concat(i);return function(n){return f.map(function(t){return[t,n]})}}function ga(n){return(n=Math.sin(n/2))*n}function dk(n,t,i,r){var f=Math.cos(t),c=Math.sin(t),o=Math.cos(r),l=Math.sin(r),a=f*Math.cos(n),v=f*Math.sin(n),y=o*Math.cos(i),p=o*Math.sin(i),u=2*Math.asin(Math.sqrt(ga(r-t)+f*o*ga(i-n))),s=1/Math.sin(u),h=u?function(n){var t=Math.sin(n*=u)*s,i=Math.sin(u-n)*s,r=i*a+t*y,f=i*v+t*p,o=i*c+t*l;return[Math.atan2(f,r)*e,Math.atan2(o,Math.sqrt(r*r+f*f))*e]}:function(){return[n*e,t*e]};return h.distance=u,h}function so(n,i){return[n/(2*t),Math.max(-.5,Math.min(.5,Math.log(Math.tan(t/4+i/2))/(2*t)))]}function nv(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function gk(n){var t=la(function(t,i){return n([t*e,i*e])});return function(n){return n=t(n),{point:function(t,r){n.point(t*i,r*i)},sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}}function nd(){function i(n,i){t.push("M",n,",",i,r)}function f(i,r){t.push("M",i,",",r),n.point=e}function e(n,i){t.push("L",n,",",i)}function u(){n.point=i}function o(){t.push("Z")}var r=nv(4.5),t=[],n={point:i,lineStart:function(){n.point=f},lineEnd:u,polygonStart:function(){n.lineEnd=o},polygonEnd:function(){n.lineEnd=u,n.point=i},pointRadius:function(t){return r=nv(t),n},result:function(){if(t.length){var n=t.join("");return t=[],n}}};return n}function td(n){function r(i,r){n.moveTo(i,r),n.arc(i,r,u,0,2*t)}function e(t,r){n.moveTo(t,r),i.point=o}function o(t,i){n.lineTo(t,i)}function f(){i.point=r}function s(){n.closePath()}var u=4.5,i={point:r,lineStart:function(){i.point=e},lineEnd:f,polygonStart:function(){i.lineEnd=s},polygonEnd:function(){i.lineEnd=f,i.point=r},pointRadius:function(n){return u=n,i},result:w};return i}function id(){function u(i,r){lo+=t*i-n*r,n=i,t=r}var i,r,n,t;ht.point=function(f,e){ht.point=u,i=n=f,r=t=e},ht.lineEnd=function(){u(i,r)}}function ao(n,t){h||(l+=n,a+=t,++s)}function tv(){function i(i,r){var f=i-n,e=r-t,u=Math.sqrt(f*f+e*e);l+=u*(n+i)/2,a+=u*(t+r)/2,s+=u,n=i,t=r}var n,t;if(h!==1)if(h<1)h=1,l=a=s=0;else return;tt.point=function(r,u){tt.point=i,n=r,t=u}}function iv(){tt.point=ao}function rd(){function u(i,r){var u=t*i-n*r;l+=u*(n+i),a+=u*(t+r),s+=u*3,n=i,t=r}var i,r,n,t;h<2&&(h=2,l=a=s=0),tt.point=function(f,e){tt.point=u,i=n=f,r=t=e},tt.lineEnd=function(){u(i,r)}}function ud(){function o(f,e){f*=i,e=e*i/2+t/4;var o=f-n,s=Math.cos(e),h=Math.sin(e),c=u*h,l=su,a=hu,v=r*s+c*Math.cos(o),y=c*Math.sin(o);su=l*v-a*y,hu=a*v+l*y,n=f,r=s,u=h}var f,e,n,r,u;ct.point=function(s,h){ct.point=o,n=(f=s)*i,r=Math.cos(h=(e=h)*i/2+t/4),u=Math.sin(h)},ct.lineEnd=function(){o(f,e)}}function pt(n){return vo(function(){return n})()}function vo(t){function u(n){return n=c(n[0]*i,n[1]*i),[n[0]*r+s,h-n[1]*r]}function tt(n){return n=c.invert((n[0]-s)/r,(h-n[1])/r),n&&[n[0]*e,n[1]*e]}function o(){c=da(d=rv(p,w,b),f);var n=f(v,y);return s=l-n[0]*r,h=a+n[1]*r,u}var f,d,c,g=la(function(n,t){return n=f(n,t),[n[0]*r+s,h-n[1]*r]}),r=150,l=480,a=250,v=0,y=0,p=0,w=0,b=0,s,h,nt=eo,k=null;return u.stream=function(n){return fd(d,nt(g(n)))},u.clipAngle=function(n){return arguments.length?(nt=n==null?(k=n,eo):wk(k=+n),u):k},u.scale=function(n){return arguments.length?(r=+n,o()):r},u.translate=function(n){return arguments.length?(l=+n[0],a=+n[1],o()):[l,a]},u.center=function(n){return arguments.length?(v=n[0]%360*i,y=n[1]%360*i,o()):[v*e,y*e]},u.rotate=function(n){return arguments.length?(p=n[0]%360*i,w=n[1]%360*i,b=n.length>2?n[2]%360*i:0,o()):[p*e,w*e,b*e]},n.rebind(u,g,"precision"),function(){return f=t.apply(this,arguments),u.invert=f.invert&&tt,o()}}function fd(n,r){return{point:function(u,f){f=n(u*i,f*i),u=f[0],r.point(u>t?u-2*t:u<-t?u+2*t:u,f[1])},sphere:function(){r.sphere()},lineStart:function(){r.lineStart()},lineEnd:function(){r.lineEnd()},polygonStart:function(){r.polygonStart()},polygonEnd:function(){r.polygonEnd()}}}function rv(n,t,i){return n?t||i?da(fv(n),ev(t,i)):fv(n):t||i?ev(t,i):eu}function uv(n){return function(i,r){return i+n,[i>t?i-2*t:i<-t?i+2*t:i,r]}}function fv(n){var t=uv(n);return t.invert=uv(-n),t}function ev(n,t){function e(n,t){var e=Math.cos(t),o=Math.cos(n)*e,s=Math.sin(n)*e,h=Math.sin(t),c=h*i+o*r;return[Math.atan2(s*u-c*f,o*i-h*r),Math.asin(Math.max(-1,Math.min(1,c*u+s*f)))]}var i=Math.cos(n),r=Math.sin(n),u=Math.cos(t),f=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),o=Math.cos(n)*e,s=Math.sin(n)*e,h=Math.sin(t),c=h*u-s*f;return[Math.atan2(s*u+h*f,o*i+c*r),Math.asin(Math.max(-1,Math.min(1,c*i-o*r)))]},e}function bi(n,t){function i(t,i){var f=Math.cos(t),r=Math.cos(i),u=n(f*r);return[u*r*Math.sin(t),u*Math.sin(i)]}return i.invert=function(n,i){var r=Math.sqrt(n*n+i*i),u=t(r),f=Math.sin(u),e=Math.cos(u);return[Math.atan2(n*f,r*e),Math.asin(r&&i*f/r)]},i}function ed(n,t,i,r){var u,f,e,o,s,h,c;return u=r[n],f=u[0],e=u[1],u=r[t],o=u[0],s=u[1],u=r[i],h=u[0],c=u[1],(c-e)*(o-f)-(s-e)*(h-f)>0}function po(n,t,i){return(i[0]-t[0])*(n[1]-t[1])<(i[1]-t[1])*(n[0]-t[0])}function ov(n,t,i,r){var u=n[0],e=i[0],o=t[0]-u,s=r[0]-e,f=n[1],h=i[1],c=t[1]-f,l=r[1]-h,a=(s*(f-h)-l*(u-e))/(l*o-s*c);return[u+a*o,f+a*c]}function sv(n,t){var l={list:n.map(function(n,t){return{index:t,x:n[0],y:n[1]}}).sort(function(n,t){return n.y<t.y?-1:n.y>t.y?1:n.x<t.x?-1:n.x>t.x?1:0}),bottomSite:null},i={list:[],leftEnd:null,rightEnd:null,init:function(){i.leftEnd=i.createHalfEdge(null,"l"),i.rightEnd=i.createHalfEdge(null,"l"),i.leftEnd.r=i.rightEnd,i.rightEnd.l=i.leftEnd,i.list.unshift(i.leftEnd,i.rightEnd)},createHalfEdge:function(n,t){return{edge:n,side:t,vertex:null,l:null,r:null}},insert:function(n,t){t.l=n,t.r=n.r,n.r.l=t,n.r=t},leftBound:function(n){var t=i.leftEnd;do t=t.r;while(t!=i.rightEnd&&e.rightOf(t,n));return t.l},del:function(n){n.l.r=n.r,n.r.l=n.l,n.edge=null},right:function(n){return n.r},left:function(n){return n.l},leftRegion:function(n){return n.edge==null?l.bottomSite:n.edge.region[n.side]},rightRegion:function(n){return n.edge==null?l.bottomSite:n.edge.region[cu[n.side]]}},e={bisect:function(n,t){var u={region:{l:n,r:t},ep:{l:null,r:null}},i=t.x-n.x,r=t.y-n.y,f=i>0?i:-i,e=r>0?r:-r;return u.c=n.x*i+n.y*r+(i*i+r*r)*.5,f>e?(u.a=1,u.b=r/i,u.c/=i):(u.b=1,u.a=i/r,u.c/=r),u},intersect:function(n,t){var i=n.edge,r=t.edge,u,h;if(!i||!r||i.region.r==r.region.r||(u=i.a*r.b-i.b*r.a,Math.abs(u)<1e-10))return null;var c=(i.c*r.b-r.c*i.b)/u,l=(r.c*i.a-i.c*r.a)/u,e=i.region.r,o=r.region.r,f,s;return(e.y<o.y||e.y==o.y&&e.x<o.x?(f=n,s=i):(f=t,s=r),h=c>=s.region.r.x,h&&f.side==="l"||!h&&f.side==="r")?null:{x:c,y:l}},rightOf:function(n,t){var i=n.edge,u=i.region.r,f=t.x>u.x,h;if(f&&n.side==="l")return 1;if(!f&&n.side==="r")return 0;if(i.a===1){var e=t.y-u.y,o=t.x-u.x,s=0,r=0;!f&&i.b<0||f&&i.b>=0?r=s=e>=i.b*o:(r=t.x+t.y*i.b>i.c,i.b<0&&(r=!r),r||(s=1)),s||(h=u.x-i.region.l.x,r=i.b*(o*o-e*e)<h*e*(1+2*o/h+i.b*i.b),i.b<0&&(r=!r))}else{var c=i.c-i.a*t.x,l=t.y-c,a=t.x-u.x,v=c-u.y;r=l*l>a*a+v*v}return n.side==="l"?r:!r},endPoint:function(n,i,r){(n.ep[i]=r,n.ep[cu[i]])&&t(n)},distance:function(n,t){var i=n.x-t.x,r=n.y-t.y;return Math.sqrt(i*i+r*r)}},u={list:[],insert:function(n,t,i){var f;n.vertex=t,n.ystar=t.y+i;for(var r=0,e=u.list,o=e.length;r<o;r++)if(f=e[r],n.ystar>f.ystar||n.ystar==f.ystar&&t.x>f.vertex.x)continue;else break;e.splice(r,0,n)},del:function(n){for(var t=0,i=u.list,r=i.length;t<r&&i[t]!=n;++t);i.splice(t,1)},empty:function(){return u.list.length===0},nextEvent:function(n){for(var t=0,i=u.list,r=i.length;t<r;++t)if(i[t]==n)return i[t+1];return null},min:function(){var n=u.list[0];return{x:n.vertex.x,y:n.ystar}},extractMin:function(){return u.list.shift()}},s,p,r,h,v,k,o,c,y,d,f,w,a,b;for(i.init(),l.bottomSite=l.list.shift(),s=l.list.shift();;)if(u.empty()||(p=u.min()),s&&(u.empty()||s.y<p.y||s.y==p.y&&s.x<p.x))r=i.leftBound(s),h=i.right(r),c=i.rightRegion(r),a=e.bisect(c,s),o=i.createHalfEdge(a,"l"),i.insert(r,o),f=e.intersect(r,o),f&&(u.del(r),u.insert(r,f,e.distance(f,s))),r=o,o=i.createHalfEdge(a,"r"),i.insert(r,o),f=e.intersect(o,h),f&&u.insert(o,f,e.distance(f,s)),s=l.list.shift();else if(u.empty())break;else r=u.extractMin(),v=i.left(r),h=i.right(r),k=i.right(h),c=i.leftRegion(r),y=i.rightRegion(h),w=r.vertex,e.endPoint(r.edge,r.side,w),e.endPoint(h.edge,h.side,w),i.del(r),u.del(h),i.del(h),b="l",c.y>y.y&&(d=c,c=y,y=d,b="r"),a=e.bisect(c,y),o=i.createHalfEdge(a,b),i.insert(v,o),e.endPoint(a,cu[b],w),f=e.intersect(v,o),f&&(u.del(v),u.insert(v,f,e.distance(f,c))),f=e.intersect(o,k),f&&u.insert(o,f,e.distance(f,c));for(r=i.right(i.leftEnd);r!=i.rightEnd;r=i.right(r))t(r.edge)}function hv(){return{leaf:!0,nodes:[],point:null}}function ki(n,t,i,r,u,f){if(!n(t,i,r,u,f)){var o=(i+u)*.5,s=(r+f)*.5,e=t.nodes;e[0]&&ki(n,e[0],i,r,o,s),e[1]&&ki(n,e[1],o,r,u,s),e[2]&&ki(n,e[2],i,s,o,f),e[3]&&ki(n,e[3],o,s,u,f)}}function wt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function lu(n,t,i,r){for(var u,f,e=0,o=t.length,s=i.length;e<o;){if(r>=s)return-1;if(u=t.charCodeAt(e++),u===37){if(f=cd[t.charAt(e++)],!f||(r=f(n,i,r))<0)return-1}else if(u!=i.charCodeAt(r++))return-1}return r}function au(t){return new RegExp("^(?:"+t.map(n.requote).join("|")+")","i")}function vv(n){for(var i=new ft,t=-1,r=n.length;++t<r;)i.set(n[t].toLowerCase(),t);return i}function p(n,t,i){n+="";var r=n.length;return r<i?new Array(i-r+1).join(t)+n:n}function ld(n,t,i){pv.lastIndex=0;var r=pv.exec(t.substring(i));return r?i+=r[0].length:-1}function ad(n,t,i){yv.lastIndex=0;var r=yv.exec(t.substring(i));return r?i+=r[0].length:-1}function vd(n,t,i){bv.lastIndex=0;var r=bv.exec(t.substring(i));return r?(n.m=sd.get(r[0].toLowerCase()),i+=r[0].length):-1}function yd(n,t,i){wv.lastIndex=0;var r=wv.exec(t.substring(i));return r?(n.m=od.get(r[0].toLowerCase()),i+=r[0].length):-1}function pd(n,t,i){return lu(n,vu.c.toString(),t,i)}function wd(n,t,i){return lu(n,vu.x.toString(),t,i)}function bd(n,t,i){return lu(n,vu.X.toString(),t,i)}function kd(n,t,i){y.lastIndex=0;var r=y.exec(t.substring(i,i+4));return r?(n.y=+r[0],i+=r[0].length):-1}function dd(n,t,i){y.lastIndex=0;var r=y.exec(t.substring(i,i+2));return r?(n.y=gd(+r[0]),i+=r[0].length):-1}function gd(n){return n+(n>68?1900:2e3)}function ng(n,t,i){y.lastIndex=0;var r=y.exec(t.substring(i,i+2));return r?(n.m=r[0]-1,i+=r[0].length):-1}function kv(n,t,i){y.lastIndex=0;var r=y.exec(t.substring(i,i+2));return r?(n.d=+r[0],i+=r[0].length):-1}function dv(n,t,i){y.lastIndex=0;var r=y.exec(t.substring(i,i+2));return r?(n.H=+r[0],i+=r[0].length):-1}function tg(n,t,i){y.lastIndex=0;var r=y.exec(t.substring(i,i+2));return r?(n.M=+r[0],i+=r[0].length):-1}function ig(n,t,i){y.lastIndex=0;var r=y.exec(t.substring(i,i+2));return r?(n.S=+r[0],i+=r[0].length):-1}function rg(n,t,i){y.lastIndex=0;var r=y.exec(t.substring(i,i+3));return r?(n.L=+r[0],i+=r[0].length):-1}function ug(n,t,i){var r=gv.get(t.substring(i,i+=2).toLowerCase());return r==null?-1:(n.p=r,i)}function fg(n){var t=n.getTimezoneOffset(),i=t>0?"-":"+",r=~~(Math.abs(t)/60),u=Math.abs(t)%60;return i+p(r,"0",2)+p(u,"0",2)}function go(n){return n.toISOString()}function bt(n,t,i){function e(t){var i=n(t),r=f(i,1);return t-i<r-t?i:r}function u(i){return t(i=n(new v(i-1)),1),i}function f(n,i){return t(n=new v(+n),i),n}function o(n,r,f){var e=u(n),o=[];if(f>1)while(e<r)i(e)%f||o.push(new Date(+e)),t(e,1);else while(e<r)o.push(new Date(+e)),t(e,1);return o}function s(n,t,i){try{v=wt;var r=new wt;return r._=n,o(r,t,i)}finally{v=Date}}n.floor=n,n.round=e,n.ceil=u,n.offset=f,n.range=o;var r=n.utc=yu(n);return r.floor=r,r.round=yu(e),r.ceil=yu(u),r.offset=yu(f),r.range=s,n}function yu(n){return function(t,i){try{v=wt;var r=new wt;return r._=t,n(r,i)._}finally{v=Date}}}function ns(t,i,r){function u(n){return t(n)}return u.invert=function(n){return ts(t.invert(n))},u.domain=function(n){return arguments.length?(t.domain(n),u):t.domain().map(ts)},u.nice=function(n){return u.domain(pr(u.domain(),function(){return n}))},u.ticks=function(r,f){var o=eg(u.domain());if(typeof r!="function"){var h=o[1]-o[0],s=h/r,e=n.bisect(pu,s);if(e==pu.length)return i.year(o,r);if(!e)return t.ticks(r).map(ts);Math.log(s/pu[e-1])<Math.log(pu[e]/s)&&--e,r=i[e],f=r[1],r=r[0].range}return r(o[0],new Date(+o[1]+1),f)},u.tickFormat=function(){return r},u.copy=function(){return ns(t.copy(),i,r)},n.rebind(u,t,"range","rangeRound","interpolate","clamp")}function eg(n){var t=n[0],i=n[n.length-1];return t<i?[t,i]:[i,t]}function ts(n){return new Date(n)}function ny(n){return function(t){for(var r=n.length-1,i=n[r];!i[1](t);)i=n[--r];return i[0](t)}}function is(n){var t=new Date(n,0,1);return t.setFullYear(n),t}function og(n){var t=n.getFullYear(),i=is(t),r=is(t+1);return t+(n-i)/(r-i)}function us(n){var t=new Date(Date.UTC(n,0,1));return t.setUTCFullYear(n),t}function ag(n){var t=n.getUTCFullYear(),i=us(t),r=us(t+1);return t+(n-i)/(r-i)}var t=Math.PI,r=1e-6,n={version:"3.0.8"},i=t/180,e=180/t,k=document,c=window,fs=".",ry=",",di=[3,3],ku,es,ut,gi,kt,os,gu,hs,nr,ls,as,tr,vs,ys,th,oi,si,hi,ir,fr,u,ri,vt,df,vr,sc,yt,pc,kr,oe,pi,se,he,el,hl,gr,ce,nu,cl,vl,yl,le,pl,wl,ke,de,to,io,h,rt,l,a,s,nt,eo,oo,ho,co,lo,ht,tt,ou,su,hu,ct,yo,cu,v,cv,y,gv,ko;Date.now||(Date.now=function(){return+new Date});try{k.createElement("div").style.setProperty("opacity",0,"")}catch(vg){ku=c.CSSStyleDeclaration.prototype,es=ku.setProperty,ku.setProperty=function(n,t,i){es.call(this,n,t+"",i)}}ut=ey;try{ut(k.documentElement.childNodes)[0].nodeType}catch(yg){ut=fy}gi=[].__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var i in t)n[i]=t[i]},n.map=function(n){var i=new ft,t;for(t in n)i.set(t,n[t]);return i},uy(ft,{has:function(n){return kt+n in this},get:function(n){return this[kt+n]},set:function(n,t){return this[kt+n]=t},remove:function(n){return n=kt+n,n in this&&delete this[n]},keys:function(){var n=[];return this.forEach(function(t){n.push(t)}),n},values:function(){var n=[];return this.forEach(function(t,i){n.push(i)}),n},entries:function(){var n=[];return this.forEach(function(t,i){n.push({key:t,value:i})}),n},forEach:function(n){for(var t in this)t.charCodeAt(0)===os&&n.call(this,t.substring(1),this[t])}}),kt="\0",os=kt.charCodeAt(0),n.functor=f,n.rebind=function(n,t){for(var i=1,u=arguments.length,r;++i<u;)n[r=arguments[i]]=oy(n,t,t[r]);return n},n.ascending=function(n,t){return n<t?-1:n>t?1:n>=t?0:NaN},n.descending=function(n,t){return t<n?-1:t>n?1:t>=n?0:NaN},n.mean=function(n,t){var e=n.length,u,i=0,r=-1,f=0;if(arguments.length===1)while(++r<e)du(u=n[r])&&(i+=(u-i)/++f);else while(++r<e)du(u=t.call(n,n[r],r))&&(i+=(u-i)/++f);return f?i:undefined},n.median=function(t,i){return arguments.length>1&&(t=t.map(i)),t=t.filter(du),t.length?n.quantile(t.sort(n.ascending),.5):undefined},n.min=function(n,t){var r=-1,f=n.length,i,u;if(arguments.length===1){while(++r<f&&((i=n[r])==null||i!=i))i=undefined;while(++r<f)(u=n[r])!=null&&i>u&&(i=u)}else{while(++r<f&&((i=t.call(n,n[r],r))==null||i!=i))i=undefined;while(++r<f)(u=t.call(n,n[r],r))!=null&&i>u&&(i=u)}return i},n.max=function(n,t){var r=-1,f=n.length,i,u;if(arguments.length===1){while(++r<f&&((i=n[r])==null||i!=i))i=undefined;while(++r<f)(u=n[r])!=null&&u>i&&(i=u)}else{while(++r<f&&((i=t.call(n,n[r],r))==null||i!=i))i=undefined;while(++r<f)(u=t.call(n,n[r],r))!=null&&u>i&&(i=u)}return i},n.extent=function(n,t){var r=-1,e=n.length,i,u,f;if(arguments.length===1){while(++r<e&&((i=f=n[r])==null||i!=i))i=f=undefined;while(++r<e)(u=n[r])!=null&&(i>u&&(i=u),f<u&&(f=u))}else{while(++r<e&&((i=f=t.call(n,n[r],r))==null||i!=i))i=undefined;while(++r<e)(u=t.call(n,n[r],r))!=null&&(i>u&&(i=u),f<u&&(f=u))}return[i,f]},n.random={normal:function(n,t){var i=arguments.length;return i<2&&(t=1),i<1&&(n=0),function(){var r,u,i;do r=Math.random()*2-1,u=Math.random()*2-1,i=r*r+u*u;while(!i||i>1);return n+t*r*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=n.random.normal.apply(n,arguments);return function(){return Math.exp(t())}},irwinHall:function(n){return function(){for(var t=0,i=0;i<n;i++)t+=Math.random();return t/n}}},n.sum=function(n,t){var u=0,f=n.length,r,i=-1;if(arguments.length===1)while(++i<f)isNaN(r=+n[i])||(u+=r);else while(++i<f)isNaN(r=+t.call(n,n[i],i))||(u+=r);return u},n.quantile=function(n,t){var u=(n.length-1)*t+1,i=Math.floor(u),r=+n[i-1],f=u-i;return f?r+f*(n[i]-r):r},n.shuffle=function(n){for(var t=n.length,r,i;t;)i=Math.random()*t--|0,r=n[t],n[t]=n[i],n[i]=r;return n},n.transpose=function(t){return n.zip.apply(n,t)},n.zip=function(){var t,r,e;if(!(r=arguments.length))return[];for(var i=-1,u=n.min(arguments,sy),f=new Array(u);++i<u;)for(t=-1,e=f[i]=new Array(r);++t<r;)e[t]=arguments[t][i];return f},n.bisector=function(n){return{left:function(t,i,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);r<u;){var f=r+u>>>1;n.call(t,t[f],f)<i?r=f+1:u=f}return r},right:function(t,i,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);r<u;){var f=r+u>>>1;i<n.call(t,t[f],f)?u=f:r=f+1}return r}}},gu=n.bisector(function(n){return n}),n.bisectLeft=gu.left,n.bisect=n.bisectRight=gu.right,n.nest=function(){function u(f,e){if(e>=t.length)return r?r.call(n,f):i?f.sort(i):f;for(var h=-1,v=f.length,y=t[e++],c,o,s=new ft,l,a={};++h<v;)(l=s.get(c=y(o=f[h])))?l.push(o):s.set(c,[o]);return s.forEach(function(n,t){a[n]=u(t,e)}),a}function e(n,i){if(i>=t.length)return n;var r=[],o=f[i++],u;for(u in n)r.push({key:u,values:e(n[u],i)});return o&&r.sort(function(n,t){return o(n.key,t.key)}),r}var n={},t=[],f=[],i,r;return n.map=function(n){return u(n,0)},n.entries=function(n){return e(u(n,0),0)},n.key=function(i){return t.push(i),n},n.sortKeys=function(i){return f[t.length-1]=i,n},n.sortValues=function(t){return i=t,n},n.rollup=function(t){return r=t,n},n},n.keys=function(n){var t=[],i;for(i in n)t.push(i);return t},n.values=function(n){var t=[],i;for(i in n)t.push(n[i]);return t},n.entries=function(n){var i=[],t;for(t in n)i.push({key:t,value:n[t]});return i},n.permute=function(n,t){for(var r=[],i=-1,u=t.length;++i<u;)r[i]=n[t[i]];return r},n.merge=function(n){return Array.prototype.concat.apply([],n)},n.range=function(n,t,i){if(arguments.length<3&&(i=1,arguments.length<2&&(t=n,n=0)),(t-n)/i==Infinity)throw new Error("infinite range");var f=[],r=hy(Math.abs(i)),e=-1,u;if(n*=r,t*=r,i*=r,i<0)while((u=n+i*++e)>t)f.push(u/r);else while((u=n+i*++e)<t)f.push(u/r);return f},n.requote=function(n){return n.replace(hs,"\\$&")},hs=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,n.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)},n.xhr=function(t,i,r){function h(){var n=f.status;!n&&f.responseText||n>=200&&n<300||n===304?o.load.call(u,s.call(u,f)):o.error.call(u,f)}var u={},o=n.dispatch("progress","load","error"),e={},s=d,f=new(c.XDomainRequest&&/^(http(s)?:)?\/\//.test(t)?XDomainRequest:XMLHttpRequest);return"onload"in f?f.onload=f.onerror=h:f.onreadystatechange=function(){f.readyState>3&&h()},f.onprogress=function(t){var i=n.event;n.event=t;try{o.progress.call(u,f)}finally{n.event=i}},u.header=function(n,t){return(n=(n+"").toLowerCase(),arguments.length<2)?e[n]:(t==null?delete e[n]:e[n]=t+"",u)},u.mimeType=function(n){return arguments.length?(i=n==null?null:n+"",u):i},u.response=function(n){return s=n,u},["get","post"].forEach(function(n){u[n]=function(){return u.send.apply(u,[n].concat(ut(arguments)))}}),u.send=function(n,r,o){if(arguments.length===2&&typeof r=="function"&&(o=r,r=null),f.open(n,t,!0),i==null||"accept"in e||(e.accept=i+",*/*"),f.setRequestHeader)for(var s in e)f.setRequestHeader(s,e[s]);if(i!=null&&f.overrideMimeType&&f.overrideMimeType(i),o!=null)u.on("error",o).on("load",function(n){o(null,n)});return f.send(r==null?null:r),u},u.abort=function(){return f.abort(),u},n.rebind(u,o,"on"),arguments.length===2&&typeof i=="function"&&(r=i,i=null),r==null?u:u.get(cy(r))},n.text=function(){return n.xhr.apply(n,arguments).response(ly)},n.json=function(t,i){return n.xhr(t,"application/json",i).response(ay)},n.html=function(t,i){return n.xhr(t,"text/html",i).response(vy)},n.xml=function(){return n.xhr.apply(n,arguments).response(yy)},nr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},n.ns={prefix:nr,qualify:function(n){var t=n.indexOf(":"),i=n;return t>=0&&(i=n.substring(0,t),n=n.substring(t+1)),nr.hasOwnProperty(i)?{space:nr[i],local:n}:n}},n.dispatch=function(){for(var n=new nf,t=-1,i=arguments.length;++t<i;)n[arguments[t]]=cs(n);return n},nf.prototype.on=function(n,t){var i=n.indexOf("."),r="";return i>0&&(r=n.substring(i+1),n=n.substring(0,i)),arguments.length<2?this[n].on(r):this[n].on(r,t)},n.format=function(t){var r=ls.exec(t),v=r[1]||" ",e=r[2]||">",p=r[3]||"",f=r[4]||"",s=r[5],h=+r[6],c=r[7],u=r[8],i=r[9],o=1,l="",y=!1,a;u&&(u=+u.substring(1)),(s||v==="0"&&e==="=")&&(s=v="0",e="=",c&&(h-=Math.floor((h-1)/4)));switch(i){case"n":c=!0,i="g";break;case"%":o=100,l="%",i="f";break;case"p":o=100,l="%",i="r";break;case"b":case"o":case"x":case"X":f&&(f="0"+i.toLowerCase());case"c":case"d":y=!0,u=0;break;case"s":o=-1,i="r"}return f==="#"&&(f=""),i!="r"||u||(i="g"),i=as.get(i)||py,a=s&&c,function(t){var r,k,b,w;return y&&t%1?"":(r=t<0||t===0&&1/t<0?(t=-t,"-"):p,o<0?(k=n.formatPrefix(t,u),t=k.scale(t),l=k.symbol):t*=o,t=i(t,u),!s&&c&&(t=tr(t)),b=f.length+t.length+(a?0:r.length),w=b<h?new Array(b=h-b+1).join(v):"",a&&(t=tr(w+t)),fs&&t.replace(".",fs),r+=f,(e==="<"?r+t+w:e===">"?w+r+t:e==="^"?w.substring(0,b>>=1)+r+t+w.substring(b):r+(a?t:w+t))+l)}},ls=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,as=n.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(t,i){return(t=n.round(t,tf(t,i))).toFixed(Math.max(0,Math.min(20,tf(t*(1+1e-15),i))))}}),tr=d,di&&(vs=di.length,tr=function(n){for(var t=n.lastIndexOf("."),f=t>=0?"."+n.substring(t+1):(t=n.length,""),r=[],u=0,i=di[0];t>0&&i>0;)r.push(n.substring(t-=i,t+i)),i=di[u=(u+1)%vs];return r.reverse().join(ry||"")+f}),ys=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(wy),n.formatPrefix=function(t,i){var r=0;return t&&(t<0&&(t*=-1),i&&(t=n.round(t,tf(t,i))),r=1+Math.floor(1e-12+Math.log(t)/Math.LN10),r=Math.max(-24,Math.min(24,Math.floor((r<=0?r+1:r-1)/3)*3))),ys[8+r/3]};var ps=function(){return d},by=n.map({linear:ps,poly:ip,quad:function(){return gy},cubic:function(){return np},sin:function(){return rp},exp:function(){return up},circle:function(){return fp},elastic:ep,back:op,bounce:function(){return sp}}),ky=n.map({"in":d,out:ws,"in-out":bs,"out-in":function(n){return bs(ws(n))}});n.ease=function(n){var t=n.indexOf("-"),i=t>=0?n.substring(0,t):n,r=t>=0?n.substring(t+1):"in";return i=by.get(i)||ps,r=ky.get(r)||d,dy(r(i.apply(null,Array.prototype.slice.call(arguments,1))))},n.event=null,n.transform=function(t){var i=k.createElementNS(n.ns.prefix.svg,"g");return(n.transform=function(n){i.setAttribute("transform",n);var t=i.transform.baseVal.consolidate();return new ds(t?t.matrix:th)})(t)},ds.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"},th={a:1,b:0,c:0,d:1,e:0,f:0},n.interpolate=function(t,i){for(var r=n.interpolators.length,u;--r>=0&&!(u=n.interpolators[r](t,i)););return u},n.interpolateNumber=function(n,t){return t-=n,function(i){return n+t*i}},n.interpolateRound=function(n,t){return t-=n,function(i){return Math.round(n+t*i)}},n.interpolateString=function(t,i){var h,f,e,c=0,l=0,u=[],o=[],s,r;for(oi.lastIndex=0,f=0;h=oi.exec(i);++f)h.index&&u.push(i.substring(c,l=h.index)),o.push({i:u.length,x:h[0]}),u.push(null),c=oi.lastIndex;for(c<i.length&&u.push(i.substring(c)),f=0,s=o.length;(h=oi.exec(t))&&f<s;++f)if(r=o[f],r.x==h[0]){if(r.i)if(u[r.i+1]==null)for(u[r.i-1]+=r.x,u.splice(r.i,1),e=f+1;e<s;++e)o[e].i--;else for(u[r.i-1]+=r.x+u[r.i+1],u.splice(r.i,2),e=f+1;e<s;++e)o[e].i-=2;else if(u[r.i+1]==null)u[r.i]=r.x;else for(u[r.i]=r.x+u[r.i+1],u.splice(r.i+1,1),e=f+1;e<s;++e)o[e].i--;o.splice(f,1),s--,f--}else r.x=n.interpolateNumber(parseFloat(h[0]),parseFloat(r.x));while(f<s)r=o.pop(),u[r.i+1]==null?u[r.i]=r.x:(u[r.i]=r.x+u[r.i+1],u.splice(r.i+1,1)),s--;return u.length===1?u[0]==null?o[0].x:function(){return i}:function(n){for(f=0;f<s;++f)u[(r=o[f]).i]=r.x(n);return u.join("")}},n.interpolateTransform=function(t,i){var r=[],o=[],s,c=n.transform(t),l=n.transform(i),a=c.translate,u=l.translate,h=c.rotate,f=l.rotate,p=c.skew,v=l.skew,y=c.scale,e=l.scale;return a[0]!=u[0]||a[1]!=u[1]?(r.push("translate(",null,",",null,")"),o.push({i:1,x:n.interpolateNumber(a[0],u[0])},{i:3,x:n.interpolateNumber(a[1],u[1])})):u[0]||u[1]?r.push("translate("+u+")"):r.push(""),h!=f?(h-f>180?f+=360:f-h>180&&(h+=360),o.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:n.interpolateNumber(h,f)})):f&&r.push(r.pop()+"rotate("+f+")"),p!=v?o.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:n.interpolateNumber(p,v)}):v&&r.push(r.pop()+"skewX("+v+")"),y[0]!=e[0]||y[1]!=e[1]?(s=r.push(r.pop()+"scale(",null,",",null,")"),o.push({i:s-4,x:n.interpolateNumber(y[0],e[0])},{i:s-2,x:n.interpolateNumber(y[1],e[1])})):(e[0]!=1||e[1]!=1)&&r.push(r.pop()+"scale("+e+")"),s=o.length,function(n){for(var t=-1,i;++t<s;)r[(i=o[t]).i]=i.x(n);return r.join("")}},n.interpolateRgb=function(t,i){t=n.rgb(t),i=n.rgb(i);var r=t.r,u=t.g,f=t.b,e=i.r-r,o=i.g-u,s=i.b-f;return function(n){return"#"+gt(Math.round(r+e*n))+gt(Math.round(u+o*n))+gt(Math.round(f+s*n))}},n.interpolateHsl=function(t,i){t=n.hsl(t),i=n.hsl(i);var u=t.h,f=t.s,e=t.l,r=i.h-u,o=i.s-f,s=i.l-e;return r>180?r-=360:r<-180&&(r+=360),function(n){return rr(u+r*n,f+o*n,e+s*n)+""}},n.interpolateLab=function(t,i){t=n.lab(t),i=n.lab(i);var r=t.l,u=t.a,f=t.b,e=i.l-r,o=i.a-u,s=i.b-f;return function(n){return oh(r+e*n,u+o*n,f+s*n)+""}},n.interpolateHcl=function(t,i){t=n.hcl(t),i=n.hcl(i);var u=t.h,f=t.c,e=t.l,r=i.h-u,o=i.c-f,s=i.l-e;return r>180?r-=360:r<-180&&(r+=360),function(n){return cf(u+r*n,f+o*n,e+s*n)+""}},n.interpolateArray=function(t,i){for(var f=[],u=[],o=t.length,s=i.length,e=Math.min(t.length,i.length),r=0;r<e;++r)f.push(n.interpolate(t[r],i[r]));for(;r<o;++r)u[r]=t[r];for(;r<s;++r)u[r]=i[r];return function(n){for(r=0;r<e;++r)u[r]=f[r](n);return u}},n.interpolateObject=function(n,t){var u={},r={},i;for(i in n)i in t?u[i]=uf(i)(n[i],t[i]):r[i]=n[i];for(i in t)i in n||(r[i]=t[i]);return function(n){for(i in u)r[i]=u[i](n);return r}},oi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,n.interpolators=[n.interpolateObject,function(t,i){return i instanceof Array&&n.interpolateArray(t,i)},function(t,i){return(typeof t=="string"||typeof i=="string")&&n.interpolateString(t+"",i+"")},function(t,i){return(typeof i=="string"?hi.has(i)||/^(#|rgb\(|hsl\()/.test(i):i instanceof dt)&&n.interpolateRgb(t,i)},function(t,i){return!isNaN(t=+t)&&!isNaN(i=+i)&&n.interpolateNumber(t,i)}],dt.prototype.toString=function(){return this.rgb()+""},n.rgb=function(n,t,i){return arguments.length===1?n instanceof ff?et(n.r,n.g,n.b):ef(""+n,et,rr):et(~~n,~~t,~~i)},si=ff.prototype=new dt,si.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var i=this.r,r=this.g,u=this.b,t=30;return!i&&!r&&!u?et(t,t,t):(i&&i<t&&(i=t),r&&r<t&&(r=t),u&&u<t&&(u=t),et(Math.min(255,Math.floor(i/n)),Math.min(255,Math.floor(r/n)),Math.min(255,Math.floor(u/n))))},si.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),et(Math.floor(n*this.r),Math.floor(n*this.g),Math.floor(n*this.b))},si.hsl=function(){return ih(this.r,this.g,this.b)},si.toString=function(){return"#"+gt(this.r)+gt(this.g)+gt(this.b)},hi=n.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}),hi.forEach(function(n,t){hi.set(n,ef(t,et,rr))}),n.hsl=function(n,t,i){return arguments.length===1?n instanceof hf?ni(n.h,n.s,n.l):ef(""+n,ih,ni):ni(+n,+t,+i)},ir=hf.prototype=new dt,ir.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),ni(this.h,this.s,this.l/n)},ir.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),ni(this.h,this.s,n*this.l)},ir.rgb=function(){return rr(this.h,this.s,this.l)},n.hcl=function(t,i,r){return arguments.length===1?t instanceof ur?ci(t.h,t.c,t.l):t instanceof er?sh(t.l,t.a,t.b):sh((t=rh((t=n.rgb(t)).r,t.g,t.b)).l,t.a,t.b):ci(+t,+i,+r)},fr=ur.prototype=new dt,fr.brighter=function(n){return ci(this.h,this.c,Math.min(100,this.l+or*(arguments.length?n:1)))},fr.darker=function(n){return ci(this.h,this.c,Math.max(0,this.l-or*(arguments.length?n:1)))},fr.rgb=function(){return cf(this.h,this.c,this.l).rgb()},n.lab=function(t,i,r){return arguments.length===1?t instanceof er?ti(t.l,t.a,t.b):t instanceof ur?cf(t.l,t.c,t.h):rh((t=n.rgb(t)).r,t.g,t.b):ti(+t,+i,+r)};var or=18,uh=.95047,fh=1,eh=1.08883,lf=er.prototype=new dt;lf.brighter=function(n){return ti(Math.min(100,this.l+or*(arguments.length?n:1)),this.a,this.b)},lf.darker=function(n){return ti(Math.max(0,this.l-or*(arguments.length?n:1)),this.a,this.b)},lf.rgb=function(){return oh(this.l,this.a,this.b)};var sr=function(n,t){return t.querySelector(n)},hh=function(n,t){return t.querySelectorAll(n)},ii=k.documentElement,ap=ii.matchesSelector||ii.webkitMatchesSelector||ii.mozMatchesSelector||ii.msMatchesSelector||ii.oMatchesSelector,ch=function(n,t){return ap.call(n,t)};typeof Sizzle=="function"&&(sr=function(n,t){return Sizzle(n,t)[0]||null},hh=function(n,t){return Sizzle.uniqueSort(Sizzle(n,t))},ch=Sizzle.matchesSelector),u=[],n.selection=function(){return ri},n.selection.prototype=u,u.select=function(n){var o=[],i,u,f,t,e,s,r,h;for(typeof n!="function"&&(n=lh(n)),e=-1,s=this.length;++e<s;)for(o.push(i=[]),i.parentNode=(f=this[e]).parentNode,r=-1,h=f.length;++r<h;)(t=f[r])?(i.push(u=n.call(t,t.__data__,r)),u&&"__data__"in t&&(u.__data__=t.__data__)):i.push(null);return ot(o)},u.selectAll=function(n){var u=[],f,t,i,e;for(typeof n!="function"&&(n=ah(n)),i=-1,e=this.length;++i<e;)for(var o=this[i],r=-1,s=o.length;++r<s;)(t=o[r])&&(u.push(f=ut(n.call(t,t.__data__,r))),f.parentNode=t);return ot(u)},u.attr=function(t,i){if(arguments.length<2){if(typeof t=="string"){var r=this.node();return t=n.ns.qualify(t),t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(i in t)this.each(vh(i,t[i]));return this}return this.each(vh(t,i))},u.classed=function(n,t){if(arguments.length<2){if(typeof n=="string"){var r=this.node(),u=(n=n.trim().split(/^|\s+/g)).length,i=-1;if(t=r.classList){while(++i<u)if(!t.contains(n[i]))return!1}else for(t=r.className,t.baseVal!=null&&(t=t.baseVal);++i<u;)if(!yh(n[i]).test(t))return!1;return!0}for(t in n)this.each(ph(t,n[t]));return this}return this.each(ph(n,t))},u.style=function(n,t,i){var r=arguments.length;if(r<3){if(typeof n!="string"){r<2&&(t="");for(i in n)this.each(wh(i,n[i],t));return this}if(r<2)return c.getComputedStyle(this.node(),null).getPropertyValue(n);i=""}return this.each(wh(n,t,i))},u.property=function(n,t){if(arguments.length<2){if(typeof n=="string")return this.node()[n];for(t in n)this.each(bh(t,n[t]));return this}return this.each(bh(n,t))},u.text=function(n){return arguments.length?this.each(typeof n=="function"?function(){var t=n.apply(this,arguments);this.textContent=t==null?"":t}:n==null?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},u.html=function(n){return arguments.length?this.each(typeof n=="function"?function(){var t=n.apply(this,arguments);this.innerHTML=t==null?"":t}:n==null?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},u.append=function(t){function i(){return this.appendChild(k.createElementNS(this.namespaceURI,t))}function r(){return this.appendChild(k.createElementNS(t.space,t.local))}return t=n.ns.qualify(t),this.select(t.local?r:i)},u.insert=function(t,i){function r(){return this.insertBefore(k.createElementNS(this.namespaceURI,t),sr(i,this))}function u(){return this.insertBefore(k.createElementNS(t.space,t.local),sr(i,this))}return t=n.ns.qualify(t),this.select(t.local?u:r)},u.remove=function(){return this.each(function(){var n=this.parentNode;n&&n.removeChild(this)})},u.data=function(n,t){function o(n,i){var r,l=n.length,a=i.length,k=Math.min(l,a),v=new Array(a),c=new Array(a),y=new Array(l),u,o;if(t){var p=new ft,w=new ft,b=[],e;for(r=-1;++r<l;)e=t.call(u=n[r],u.__data__,r),p.has(e)?y[r]=u:p.set(e,u),b.push(e);for(r=-1;++r<a;)e=t.call(i,o=i[r],r),(u=p.get(e))?(v[r]=u,u.__data__=o):w.has(e)||(c[r]=pf(o)),w.set(e,o),p.remove(e);for(r=-1;++r<l;)p.has(b[r])&&(y[r]=n[r])}else{for(r=-1;++r<k;)u=n[r],o=i[r],u?(u.__data__=o,v[r]=u):c[r]=pf(o);for(;r<a;++r)c[r]=pf(i[r]);for(;r<l;++r)y[r]=n[r]}c.update=v,c.parentNode=v.parentNode=y.parentNode=n.parentNode,s.push(c),f.push(v),h.push(y)}var i=-1,u=this.length,r,e;if(!arguments.length){for(n=new Array(u=(r=this[0]).length);++i<u;)(e=r[i])&&(n[i]=e.__data__);return n}var s=gh([]),f=ot([]),h=ot([]);if(typeof n=="function")while(++i<u)o(r=this[i],n.call(r,r.parentNode.__data__,i));else while(++i<u)o(r=this[i],n);return f.enter=function(){return s},f.exit=function(){return h},f},u.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},u.filter=function(n){var e=[],u,f,i,r,o,t,s;for(typeof n!="function"&&(n=kh(n)),r=0,o=this.length;r<o;r++)for(e.push(u=[]),u.parentNode=(f=this[r]).parentNode,t=0,s=f.length;t<s;t++)(i=f[t])&&n.call(i,i.__data__,t)&&u.push(i);return ot(e)},u.order=function(){for(var i=-1,f=this.length;++i<f;)for(var r=this[i],u=r.length-1,n=r[u],t;--u>=0;)(t=r[u])&&(n&&n!==t.nextSibling&&n.parentNode.insertBefore(t,n),n=t);return this},u.sort=function(n){n=yp.apply(this,arguments);for(var t=-1,i=this.length;++t<i;)this[t].sort(n);return this.order()},u.on=function(n,t,i){var r=arguments.length;if(r<3){if(typeof n!="string"){r<2&&(t=!1);for(i in n)this.each(dh(i,n[i],t));return this}if(r<2)return(r=this.node()["__on"+n])&&r._;i=!1}return this.each(dh(n,t,i))},u.each=function(n){return at(this,function(t,i,r){n.call(t,t.__data__,i,r)})},u.call=function(n){var t=ut(arguments);return n.apply(t[0]=this,t),this},u.empty=function(){return!this.node()},u.node=function(){for(var i,n=0,r=this.length;n<r;n++)for(var u=this[n],t=0,f=u.length;t<f;t++)if(i=u[t],i)return i;return null},u.transition=function(){var r=ai||++nc,u=[],f,n,e=Object.create(hr),t,o;for(e.time=Date.now(),t=-1,o=this.length;++t<o;){u.push(f=[]);for(var s=this[t],i=-1,h=s.length;++i<h;)(n=s[i])&&cr(n,i,r,e),f.push(n)}return li(u,r)},ri=ot([[k]]),ri[0].parentNode=ii,n.select=function(n){return typeof n=="string"?ri.select(n):ot([[n]])},n.selectAll=function(n){return typeof n=="string"?ri.selectAll(n):ot([ut(n)])},vt=[],n.selection.enter=gh,n.selection.enter.prototype=vt,vt.append=u.append,vt.insert=u.insert,vt.empty=u.empty,vt.node=u.node,vt.select=function(n){for(var e=[],r,o,s,t,u,i,c,f=-1,h=this.length;++f<h;)for(s=(t=this[f]).update,e.push(r=[]),r.parentNode=t.parentNode,i=-1,c=t.length;++i<c;)(u=t[i])?(r.push(s[i]=o=n.call(t.parentNode,u.__data__,i)),o.__data__=u.__data__):r.push(null);return ot(e)};var o=[],nc=0,ai,hr={ease:tp,delay:0,duration:250};o.call=u.call,o.empty=u.empty,o.node=u.node,n.transition=function(n){return arguments.length?ai?n.transition():n:ri.transition()},n.transition.prototype=o,o.select=function(n){var u=this.id,o=[],f,i,t,e,s;for(typeof n!="function"&&(n=lh(n)),e=-1,s=this.length;++e<s;){o.push(f=[]);for(var h=this[e],r=-1,c=h.length;++r<c;)(t=h[r])&&(i=n.call(t,t.__data__,r))?("__data__"in t&&(i.__data__=t.__data__),cr(i,r,u,t.__transition__[u]),f.push(i)):f.push(null)}return li(o,u)},o.selectAll=function(n){var r=this.id,o=[],s,u,t,h,c,f,l,i,v;for(typeof n!="function"&&(n=ah(n)),f=-1,l=this.length;++f<l;)for(var a=this[f],e=-1,y=a.length;++e<y;)if(t=a[e])for(c=t.__transition__[r],u=n.call(t,t.__data__,e),o.push(s=[]),i=-1,v=u.length;++i<v;)cr(h=u[i],i,r,c),s.push(h);return li(o,r)},o.filter=function(n){var f=[],e,u,t,i,o;for(typeof n!="function"&&(n=kh(n)),i=0,o=this.length;i<o;i++){f.push(e=[]);for(var u=this[i],r=0,s=u.length;r<s;r++)(t=u[r])&&n.call(t,t.__data__,r)&&e.push(t)}return li(f,this.id,this.time).ease(this.ease())},o.attr=function(t,i){function f(){this.removeAttribute(r)}function e(){this.removeAttributeNS(r.space,r.local)}if(arguments.length<2){for(i in t)this.attr(i,t[i]);return this}var u=uf(t),r=n.ns.qualify(t);return wf(this,"attr."+t,i,function(n){function t(){var t=this.getAttribute(r),i;return t!==n&&(i=u(t,n),function(n){this.setAttribute(r,i(n))})}function i(){var t=this.getAttributeNS(r.space,r.local),i;return t!==n&&(i=u(t,n),function(n){this.setAttributeNS(r.space,r.local,i(n))})}return n==null?r.local?e:f:(n+="",r.local?i:t)})},o.attrTween=function(t,i){function u(n,t){var u=i.call(this,n,t,this.getAttribute(r));return u&&function(n){this.setAttribute(r,u(n))}}function f(n,t){var u=i.call(this,n,t,this.getAttributeNS(r.space,r.local));return u&&function(n){this.setAttributeNS(r.space,r.local,u(n))}}var r=n.ns.qualify(t);return this.tween("attr."+t,r.local?f:u)},o.style=function(n,t,i){function f(){this.style.removeProperty(n)}var r=arguments.length,u;if(r<3){if(typeof n!="string"){r<2&&(t="");for(i in n)this.style(i,n[i],t);return this}i=""}return u=uf(n),wf(this,"style."+n,t,function(t){function r(){var r=c.getComputedStyle(this,null).getPropertyValue(n),f;return r!==t&&(f=u(r,t),function(t){this.style.setProperty(n,f(t),i)})}return t==null?f:(t+="",r)})},o.styleTween=function(n,t,i){return arguments.length<3&&(i=""),this.tween("style."+n,function(r,u){var f=t.call(this,r,u,c.getComputedStyle(this,null).getPropertyValue(n));return f&&function(t){this.style.setProperty(n,f(t),i)}})},o.text=function(n){return wf(this,"text",n,pp)},o.remove=function(){return this.each("end.transition",function(){var n;!this.__transition__&&(n=this.parentNode)&&n.removeChild(this)})},o.ease=function(t){var i=this.id;return arguments.length<1?this.node().__transition__[i].ease:(typeof t!="function"&&(t=n.ease.apply(n,arguments)),at(this,function(n){n.__transition__[i].ease=t}))},o.delay=function(n){var t=this.id;return at(this,typeof n=="function"?function(i,r,u){i.__transition__[t].delay=n.call(i,i.__data__,r,u)|0}:(n|=0,function(i){i.__transition__[t].delay=n}))},o.duration=function(n){var t=this.id;return at(this,typeof n=="function"?function(i,r,u){i.__transition__[t].duration=Math.max(1,n.call(i,i.__data__,r,u)|0)}:(n=Math.max(1,n|0),function(i){i.__transition__[t].duration=n}))},o.each=function(n,t){var i=this.id,r,u;return arguments.length<2?(r=hr,u=ai,ai=i,at(this,function(t,r,u){hr=t.__transition__[i],n.call(t,t.__data__,r,u)}),hr=r,ai=u):at(this,function(r){r.__transition__[i].event.on(n,t)}),this},o.transition=function(){for(var h=this.id,f=++nc,e=[],o,u,n,t,i=0,s=this.length;i<s;i++){e.push(o=[]);for(var u=this[i],r=0,c=u.length;r<c;r++)(n=u[r])&&(t=Object.create(n.__transition__[h]),t.delay+=t.duration,cr(n,r,f,t)),o.push(n)}return li(e,f)},o.tween=function(n,t){var i=this.id;return arguments.length<2?this.node().__transition__[i].tween.get(n):at(this,t==null?function(t){t.__transition__[i].tween.remove(n)}:function(r){r.__transition__[i].tween.set(n,t)})};var wp=0,bf={},ui=null,lr,ar;n.timer=function(n,t,i){if(arguments.length<3){if(arguments.length<2)t=0;else if(!isFinite(t))return;i=Date.now()}var r=bf[n.id];r&&r.callback===n?(r.then=i,r.delay=t):bf[n.id=++wp]=ui={callback:n,then:i,delay:t,next:ui},lr||(ar=clearTimeout(ar),lr=1,df(kf))},n.timer.flush=function(){for(var t,i=Date.now(),n=ui;n;)t=i-n.then,n.delay||(n.flush=n.callback(t)),n=n.next;tc()},df=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||c.oRequestAnimationFrame||c.msRequestAnimationFrame||function(n){setTimeout(n,17)},n.mouse=function(n){return ic(n,ks())},vr=/WebKit/.test(c.navigator.userAgent)?-1:0,n.touches=function(n,t){return arguments.length<2&&(t=ks().touches),t?ut(t).map(function(t){var i=ic(n,t);return i.identifier=t.identifier,i}):[]},n.scale={},n.scale.linear=function(){return rc([0,1],[0,1],n.interpolate,!1)},n.scale.log=function(){return oc(n.scale.linear(),te)},sc=n.format(".0e"),te.pow=function(n){return Math.pow(10,n)},wr.pow=function(n){return-Math.pow(10,-n)},n.scale.pow=function(){return hc(n.scale.linear(),1)},n.scale.sqrt=function(){return n.scale.pow().exponent(.5)},n.scale.ordinal=function(){return cc([],{t:"range",a:[[]]})},n.scale.category10=function(){return n.scale.ordinal().range(gp)},n.scale.category20=function(){return n.scale.ordinal().range(nw)},n.scale.category20b=function(){return n.scale.ordinal().range(tw)},n.scale.category20c=function(){return n.scale.ordinal().range(iw)};var gp=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],nw=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],tw=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],iw=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];n.scale.quantile=function(){return lc([],[])},n.scale.quantize=function(){return ac(0,1,[0,1])},n.scale.threshold=function(){return vc([.5],[0,1])},n.scale.identity=function(){return yc([0,1])},n.svg={},n.svg.arc=function(){function n(){var f=i.apply(this,arguments),n=r.apply(this,arguments),o=u.apply(this,arguments)+yt,s=e.apply(this,arguments)+yt,h=(s<o&&(h=o,o=s,s=h),s-o),c=h<t?"0":"1",l=Math.cos(o),a=Math.sin(o),v=Math.cos(s),y=Math.sin(s);return h>=pc?f?"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"M0,"+f+"A"+f+","+f+" 0 1,0 0,"+-f+"A"+f+","+f+" 0 1,0 0,"+f+"Z":"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z":f?"M"+n*l+","+n*a+"A"+n+","+n+" 0 "+c+",1 "+n*v+","+n*y+"L"+f*v+","+f*y+"A"+f+","+f+" 0 "+c+",0 "+f*l+","+f*a+"Z":"M"+n*l+","+n*a+"A"+n+","+n+" 0 "+c+",1 "+n*v+","+n*y+"L0,0Z"}var i=rw,r=uw,u=wc,e=bc;return n.innerRadius=function(t){return arguments.length?(i=f(t),n):i},n.outerRadius=function(t){return arguments.length?(r=f(t),n):r},n.startAngle=function(t){return arguments.length?(u=f(t),n):u},n.endAngle=function(t){return arguments.length?(e=f(t),n):e},n.centroid=function(){var n=(i.apply(this,arguments)+r.apply(this,arguments))/2,t=(u.apply(this,arguments)+e.apply(this,arguments))/2+yt;return[Math.cos(t)*n,Math.sin(t)*n]},n},yt=-t/2,pc=2*t-1e-6,n.svg.line=function(){return kc(d)},kr=n.map({linear:b,"linear-closed":fw,"step-before":re,"step-after":ue,basis:gc,"basis-open":hw,"basis-closed":cw,bundle:lw,cardinal:sw,"cardinal-open":ew,"cardinal-closed":ow,monotone:yw}),kr.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var nl=[0,2/3,1/3,0],tl=[0,1/3,2/3,0],fi=[0,1/6,2/3,1/6];n.svg.line.radial=function(){var n=kc(il);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},re.reverse=ue,ue.reverse=re,n.svg.area=function(){return rl(d)},n.svg.area.radial=function(){var n=rl(il);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},n.svg.chord=function(){function n(n,t){var u=h(this,i,n,t),f=h(this,r,n,t);return"M"+u.p0+c(u.r,u.p1,u.a1-u.a0)+(l(u,f)?s(u.r,u.p1,u.r,u.p0):s(u.r,u.p1,f.r,f.p0)+c(f.r,f.p1,f.a1-f.a0)+s(f.r,f.p1,u.r,u.p0))+"Z"}function h(n,t,i,r){var s=t.call(n,i,r),f=u.call(n,s,r),h=e.call(n,s,r)+yt,c=o.call(n,s,r)+yt;return{r:f,a0:h,a1:c,p0:[f*Math.cos(h),f*Math.sin(h)],p1:[f*Math.cos(c),f*Math.sin(c)]}}function l(n,t){return n.a0==t.a0&&n.a1==t.a1}function c(n,i,r){return"A"+n+","+n+" 0 "+ +(r>t)+",1 "+i}function s(n,t,i,r){return"Q 0,0 "+r}var i=bu,r=wu,u=pw,e=wc,o=bc;return n.radius=function(t){return arguments.length?(u=f(t),n):u},n.source=function(t){return arguments.length?(i=f(t),n):i},n.target=function(t){return arguments.length?(r=f(t),n):r},n.startAngle=function(t){return arguments.length?(e=f(t),n):e},n.endAngle=function(t){return arguments.length?(o=f(t),n):o},n},n.svg.diagonal=function(){function n(n,u){var e=t.call(this,n,u),o=i.call(this,n,u),s=(e.y+o.y)/2,f=[e,{x:e.x,y:s},{x:o.x,y:s},o];return f=f.map(r),"M"+f[0]+"C"+f[1]+" "+f[2]+" "+f[3]}var t=bu,i=wu,r=ul;return n.source=function(i){return arguments.length?(t=f(i),n):t},n.target=function(t){return arguments.length?(i=f(t),n):i},n.projection=function(t){return arguments.length?(r=t,n):r},n},n.svg.diagonal.radial=function(){var t=n.svg.diagonal(),i=ul,r=t.projection;return t.projection=function(n){return arguments.length?r(ww(i=n)):i},t},n.svg.symbol=function(){function n(n,r){return(oe.get(t.call(this,n,r))||fl)(i.call(this,n,r))}var t=kw,i=bw;return n.type=function(i){return arguments.length?(t=f(i),n):t},n.size=function(t){return arguments.length?(i=f(t),n):i},n},oe=n.map({circle:fl,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*se)),i=t*se;return"M0,"+-t+"L"+i+",0 0,"+t+" "+-i+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/pi),i=t*pi/2;return"M0,"+i+"L"+t+","+-i+" "+-t+","+-i+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/pi),i=t*pi/2;return"M0,"+-i+"L"+t+","+i+" "+-t+","+i+"Z"}}),n.svg.symbolTypes=oe.keys(),pi=Math.sqrt(3),se=Math.tan(30*i),n.svg.axis=function(){function i(i){i.each(function(){var ut=n.select(this),ot=s==null?r.ticks?r.ticks.apply(r,o):r.domain():s,lt=h==null?r.tickFormat?r.tickFormat.apply(r,o):String:h,at=dw(r,ot,l),ft=ut.selectAll(".tick.minor").data(at,String),p=ft.enter().insert("line",".tick").attr("class","tick minor").style("opacity",1e-6),vt=n.transition(ft.exit()).style("opacity",1e-6).remove(),w=n.transition(ft).style("opacity",1),b=ut.selectAll(".tick.major").data(ot,String),y=b.enter().insert("g","path").attr("class","tick major").style("opacity",1e-6),yt=n.transition(b.exit()).style("opacity",1e-6).remove(),k=n.transition(b).style("opacity",1),i,a=yr(r),st=ut.selectAll(".domain").data([0]),d=(st.enter().append("path").attr("class","domain"),n.transition(st)),v=r.copy(),ht=this.__chart__||v,ct,et;this.__chart__=v,y.append("line"),y.append("text");var g=y.select("line"),nt=k.select("line"),tt=b.select("text").text(lt),it=y.select("text"),rt=k.select("text");switch(c){case"bottom":i=ol,p.attr("y2",f),w.attr("x2",0).attr("y2",f),g.attr("y2",t),it.attr("y",Math.max(t,0)+u),nt.attr("x2",0).attr("y2",t),rt.attr("x",0).attr("y",Math.max(t,0)+u),tt.attr("dy",".71em").style("text-anchor","middle"),d.attr("d","M"+a[0]+","+e+"V0H"+a[1]+"V"+e);break;case"top":i=ol,p.attr("y2",-f),w.attr("x2",0).attr("y2",-f),g.attr("y2",-t),it.attr("y",-(Math.max(t,0)+u)),nt.attr("x2",0).attr("y2",-t),rt.attr("x",0).attr("y",-(Math.max(t,0)+u)),tt.attr("dy","0em").style("text-anchor","middle"),d.attr("d","M"+a[0]+","+-e+"V0H"+a[1]+"V"+-e);break;case"left":i=sl,p.attr("x2",-f),w.attr("x2",-f).attr("y2",0),g.attr("x2",-t),it.attr("x",-(Math.max(t,0)+u)),nt.attr("x2",-t).attr("y2",0),rt.attr("x",-(Math.max(t,0)+u)).attr("y",0),tt.attr("dy",".32em").style("text-anchor","end"),d.attr("d","M"+-e+","+a[0]+"H0V"+a[1]+"H"+-e);break;case"right":i=sl,p.attr("x2",f),w.attr("x2",f).attr("y2",0),g.attr("x2",t),it.attr("x",Math.max(t,0)+u),nt.attr("x2",t).attr("y2",0),rt.attr("x",Math.max(t,0)+u).attr("y",0),tt.attr("dy",".32em").style("text-anchor","start"),d.attr("d","M"+e+","+a[0]+"H0V"+a[1]+"H"+e)}r.ticks?(y.call(i,ht),k.call(i,v),yt.call(i,v),p.call(i,ht),w.call(i,v),vt.call(i,v)):(ct=v.rangeBand()/2,et=function(n){return v(n)+ct},y.call(i,et),k.call(i,et))})}var r=n.scale.linear(),c=he,t=6,f=6,e=6,u=3,o=[10],s=null,h,l=0;return i.scale=function(n){return arguments.length?(r=n,i):r},i.orient=function(n){return arguments.length?(c=n in el?n+"":he,i):c},i.ticks=function(){return arguments.length?(o=arguments,i):o},i.tickValues=function(n){return arguments.length?(s=n,i):s},i.tickFormat=function(n){return arguments.length?(h=n,i):h},i.tickSize=function(n,r){if(!arguments.length)return t;var u=arguments.length-1;return t=+n,f=u>1?+r:t,e=u>0?+arguments[u]:t,i},i.tickPadding=function(n){return arguments.length?(u=+n,i):u},i.tickSubdivide=function(n){return arguments.length?(l=+n,i):l},i},he="bottom",el={top:1,right:1,bottom:1,left:1},n.svg.brush=function(){function u(t){t.each(function(){var f=n.select(this),o=f.selectAll(".background").data([0]),v=f.selectAll(".extent").data([0]),c=f.selectAll(".resize").data(e,String),t;f.style("pointer-events","all").on("mousedown.brush",a).on("touchstart.brush",a);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),v.enter().append("rect").attr("class","extent").style("cursor","move"),c.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return hl[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),c.style("display",u.empty()?"none":null),c.exit().remove(),i&&(t=yr(i),o.attr("x",t[0]).attr("width",t[1]-t[0]),h(f)),r&&(t=yr(r),o.attr("y",t[0]).attr("height",t[1]-t[0]),l(f)),s(f)})}function s(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+t[+/e$/.test(n)][0]+","+t[+/^s/.test(n)][1]+")"})}function h(n){n.select(".extent").attr("x",t[0][0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",t[1][0]-t[0][0])}function l(n){n.select(".extent").attr("y",t[0][1]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",t[1][1]-t[0][1])}function a(){function rt(){var t=n.event.changedTouches;return t?n.touches(w,t)[0]:n.mouse(w)}function ht(){n.event.keyCode==32&&(a||(v=null,e[0]-=t[1][0],e[1]-=t[1][1],a=2),g())}function ct(){n.event.keyCode==32&&a==2&&(e[0]+=t[1][0],e[1]+=t[1][1],a=0,g())}function k(){var u=rt(),f=!1;b&&(u[0]+=b[0],u[1]+=b[1]),a||(n.event.altKey?(v||(v=[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]),e[0]=t[+(u[0]<v[0])][0],e[1]=t[+(u[1]<v[1])][1]):v=null),et&&ut(u,i,0)&&(h(y),f=!0),ot&&ut(u,r,1)&&(l(y),f=!0),f&&(s(y),nt({type:"brush",mode:a?"move":"resize"}))}function ut(n,i,r){var l=yr(i),h=l[0],c=l[1],o=e[r],y=t[1][r]-t[0][r],u,s;return a&&(h-=o,c-=y+o),u=Math.max(h,Math.min(c,n[r])),a?s=(u+=o)+y:(v&&(o=Math.max(h,Math.min(c,2*v[r]-u))),o<u?(s=u,u=o):s=o),t[0][r]!==u||t[1][r]!==s?(f=null,t[0][r]=u,t[1][r]=s,!0):void 0}function ft(){k(),y.style("pointer-events","all").selectAll(".resize").style("display",u.empty()?"none":null),n.select("body").style("cursor",null);st.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);nt({type:"brushend"}),g()}var w=this,d=n.select(n.event.target),nt=o.of(w,arguments),y=n.select(w),p=d.datum(),et=!/^(n|s)$/.test(p)&&i,ot=!/^(e|w)$/.test(p)&&r,a=d.classed("extent"),v,e=rt(),b,st=n.select(c).on("mousemove.brush",k).on("mouseup.brush",ft).on("touchmove.brush",k).on("touchend.brush",ft).on("keydown.brush",ht).on("keyup.brush",ct),tt,it;a?(e[0]=t[0][0]-e[0],e[1]=t[0][1]-e[1]):p?(tt=+/w$/.test(p),it=+/^n/.test(p),b=[t[1-tt][0]-e[0],t[1-it][1]-e[1]],e[0]=t[tt][0],e[1]=t[it][1]):n.event.altKey&&(v=e.slice()),y.style("pointer-events","none").selectAll(".resize").style("display",null),n.select("body").style("cursor",d.style("cursor")),nt({type:"brushstart"}),k(),g()}var o=rf(u,"brushstart","brush","brushend"),i=null,r=null,e=gr[0],t=[[0,0],[0,0]],f;return u.x=function(n){return arguments.length?(i=n,e=gr[!i<<1|!r],u):i},u.y=function(n){return arguments.length?(r=n,e=gr[!i<<1|!r],u):r},u.extent=function(n){var e,o,s,h,c;return arguments.length?(f=[[0,0],[0,0]],i&&(e=n[0],o=n[1],r&&(e=e[0],o=o[0]),f[0][0]=e,f[1][0]=o,i.invert&&(e=i(e),o=i(o)),o<e&&(c=e,e=o,o=c),t[0][0]=e|0,t[1][0]=o|0),r&&(s=n[0],h=n[1],i&&(s=s[1],h=h[1]),f[0][1]=s,f[1][1]=h,r.invert&&(s=r(s),h=r(h)),h<s&&(c=s,s=h,h=c),t[0][1]=s|0,t[1][1]=h|0),u):(n=f||t,i&&(e=n[0][0],o=n[1][0],f||(e=t[0][0],o=t[1][0],i.invert&&(e=i.invert(e),o=i.invert(o)),o<e&&(c=e,e=o,o=c))),r&&(s=n[0][1],h=n[1][1],f||(s=t[0][1],h=t[1][1],r.invert&&(s=r.invert(s),h=r.invert(h)),h<s&&(c=s,s=h,h=c))),i&&r?[[e,s],[o,h]]:i?[e,o]:r&&[s,h])},u.clear=function(){return f=null,t[0][0]=t[0][1]=t[1][0]=t[1][1]=0,u},u.empty=function(){return i&&t[0][0]===t[1][0]||r&&t[0][1]===t[1][1]},n.rebind(u,o,"on")},hl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},gr=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],n.behavior={},n.behavior.drag=function(){function i(){this.on("mousedown.drag",u).on("touchstart.drag",u)}function u(){function l(){var t=e.parentNode;return i!=null?n.touches(t).filter(function(n){return n.identifier===i})[0]:n.mouse(t)}function y(){if(!e.parentNode)return a();var n=l(),t=n[0]-f[0],i=n[1]-f[1];h|=t|i,f=n,g(),o({type:"drag",x:n[0]+u[0],y:n[1]+u[1],dx:t,dy:i})}function a(){if(o({type:"dragend"}),h&&(g(),n.event.target===v))s.on("click.drag",p,!0);s.on(i!=null?"touchmove.drag-"+i:"mousemove.drag",null).on(i!=null?"touchend.drag-"+i:"mouseup.drag",null)}function p(){g();s.on("click.drag",null)}var e=this,o=r.of(e,arguments),v=n.event.target,i=n.event.touches?n.event.changedTouches[0].identifier:null,u,f=l(),h=0,s=n.select(c).on(i!=null?"touchmove.drag-"+i:"mousemove.drag",y).on(i!=null?"touchend.drag-"+i:"mouseup.drag",a,!0);t?(u=t.apply(e,arguments),u=[u.x-f[0],u.y-f[1]]):u=[0,0],i==null&&g(),o({type:"dragstart"})}var r=rf(i,"drag","dragstart","dragend"),t=null;return i.origin=function(n){return arguments.length?(t=n,i):t},n.rebind(i,r,"on")},n.behavior.zoom=function(){function r(){this.on("mousedown.zoom",tt).on("mousemove.zoom",rt).on(cl+".zoom",it).on("dblclick.zoom",ut).on("touchstart.zoom",d).on("touchmove.zoom",ft).on("touchend.zoom",d)}function e(n){return[(n[0]-i[0])/t,(n[1]-i[1])/t]}function nt(n){return[n[0]*t+i[0],n[1]*t+i[1]]}function v(n){t=Math.max(h[0],Math.min(h[1],n))}function o(n,t){t=nt(t),i[0]+=n[0]-t[0],i[1]+=n[1]-t[1]}function b(){l&&l.domain(y.range().map(function(n){return(n-i[0])/t}).map(y.invert)),a&&a.domain(p.range().map(function(n){return(n-i[1])/t}).map(p.invert))}function s(r){b(),n.event.preventDefault(),r({type:"zoom",scale:t,translate:i})}function tt(){function a(){i=1,o(n.mouse(t),l),s(u)}function v(){i&&g();r.on("mousemove.zoom",null).on("mouseup.zoom",null);if(i&&n.event.target===h)r.on("click.zoom",y,!0)}function y(){g();r.on("click.zoom",null)}var t=this,u=f.of(t,arguments),h=n.event.target,i=0,r=n.select(c).on("mousemove.zoom",a).on("mouseup.zoom",v),l=e(n.mouse(t));c.focus(),g()}function it(){u||(u=e(n.mouse(this))),v(Math.pow(2,nu()*.002)*t),o(n.mouse(this),u),s(f.of(this,arguments))}function rt(){u=null}function ut(){var i=n.mouse(this),u=e(i),r=Math.log(t)/Math.LN2;v(Math.pow(2,n.event.shiftKey?Math.ceil(r)-1:Math.floor(r)+1)),o(i,u),s(f.of(this,arguments))}function d(){var i=n.touches(this),r=Date.now(),h,c;k=t,u={},i.forEach(function(n){u[n.identifier]=e(n)}),g(),i.length===1&&(r-w<500&&(h=i[0],c=e(i[0]),v(t*2),o(h,c),s(f.of(this,arguments))),w=r)}function ft(){var h=n.touches(this),t=h[0],i=u[t.identifier],r,e;(r=h[1])&&(e=u[r.identifier],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],i=[(i[0]+e[0])/2,(i[1]+e[1])/2],v(n.event.scale*k)),o(t,i),w=null,s(f.of(this,arguments))}var i=[0,0],u,t=1,k,h=ce,f=rf(r,"zoom"),y,l,p,a,w;return r.translate=function(n){return arguments.length?(i=n.map(Number),b(),r):i},r.scale=function(n){return arguments.length?(t=+n,b(),r):t},r.scaleExtent=function(n){return arguments.length?(h=n==null?ce:n.map(Number),r):h},r.x=function(n){return arguments.length?(l=n,y=n.copy(),i=[0,0],t=1,r):l},r.y=function(n){return arguments.length?(a=n,p=n.copy(),i=[0,0],t=1,r):a},n.rebind(r,f,"on")},ce=[0,Infinity],cl="onwheel"in document?(nu=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in document?(nu=function(){return n.event.wheelDelta},"mousewheel"):(nu=function(){return-n.event.detail},"MozMousePixelScroll"),n.layout={},n.layout.bundle=function(){return function(n){for(var t=[],i=-1,r=n.length;++i<r;)t.push(gw(n[i]));return t}},n.layout.chord=function(){function l(){var k={},d=[],it=n.range(u),g=[],y,i,nt,l,v,w,b;for(r=[],f=[],y=0,l=-1;++l<u;){for(i=0,v=-1;++v<u;)i+=e[l][v];d.push(i),g.push(n.range(u)),y+=i}for(s&&it.sort(function(n,t){return s(d[n],d[t])}),h&&g.forEach(function(n,t){n.sort(function(n,i){return h(e[t][n],e[t][i])})}),y=(2*t-o*u)/y,i=0,l=-1;++l<u;){for(nt=i,v=-1;++v<u;){var p=it[l],tt=g[p][v],rt=e[p][tt],ut=i,ft=i+=rt*y;k[p+"-"+tt]={index:p,subindex:tt,startAngle:ut,endAngle:ft,value:rt}}f[p]={index:p,startAngle:nt,endAngle:i,value:(i-nt)/y},i+=o}for(l=-1;++l<u;)for(v=l-1;++v<u;)w=k[l+"-"+v],b=k[v+"-"+l],(w.value||b.value)&&r.push(w.value<b.value?{source:b,target:w}:{source:w,target:b});c&&a()}function a(){r.sort(function(n,t){return c((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var i={},r,f,e,u,o=0,s,h,c;return i.matrix=function(n){return arguments.length?(u=(e=n)&&e.length,r=f=null,i):e},i.padding=function(n){return arguments.length?(o=n,r=f=null,i):o},i.sortGroups=function(n){return arguments.length?(s=n,r=f=null,i):s},i.sortSubgroups=function(n){return arguments.length?(h=n,r=null,i):h},i.sortChords=function(n){return arguments.length?(c=n,r&&a(),i):c},i.chords=function(){return r||l(),r},i.groups=function(){return f||l(),f},i},n.layout.force=function(){function b(n){return function(t,i,r,u){var f;if(t.point!==n){var o=t.cx-n.x,s=t.cy-n.y,e=1/Math.sqrt(o*o+s*s);if((u-i)*e<w)return f=t.charge*e*e,n.px-=o*f,n.py-=s*f,!0;t.point&&isFinite(e)&&(f=t.pointCharge*e*e,n.px-=o*f,n.py-=s*f)}return!t.charge}}function k(i){i.px=n.event.x,i.py=n.event.y,t.resume()}var t={},h=n.dispatch("start","tick","end"),f=[1,1],c,r,l=.9,o=vl,s=yl,e=-30,p=.1,w=.8,i=[],u=[],a,v,y;return t.tick=function(){if((r*=.99)<.005)return h.end({type:"end",alpha:r=0}),!0;for(var nt=i.length,it=u.length,tt,t,k,g,d,s,c,w,o=0;o<it;++o)t=u[o],k=t.source,g=t.target,c=g.x-k.x,w=g.y-k.y,(d=c*c+w*w)&&(d=r*v[o]*((d=Math.sqrt(d))-a[o])/d,c*=d,w*=d,g.x-=c*(s=k.weight/(g.weight+k.weight)),g.y-=w*s,k.x+=c*(s=1-s),k.y+=w*s);if((s=r*p)&&(c=f[0]/2,w=f[1]/2,o=-1,s))while(++o<nt)t=i[o],t.x+=(c-t.x)*s,t.y+=(w-t.y)*s;if(e)for(al(tt=n.geom.quadtree(i),r,y),o=-1;++o<nt;)(t=i[o]).fixed||tt.visit(b(t));for(o=-1;++o<nt;)t=i[o],t.fixed?(t.x=t.px,t.y=t.py):(t.x-=(t.px-(t.px=t.x))*l,t.y-=(t.py-(t.py=t.y))*l);h.tick({type:"tick",alpha:r})},t.nodes=function(n){return arguments.length?(i=n,t):i},t.links=function(n){return arguments.length?(u=n,t):u},t.size=function(n){return arguments.length?(f=n,t):f},t.linkDistance=function(n){return arguments.length?(o=typeof n=="function"?n:+n,t):o},t.distance=t.linkDistance,t.linkStrength=function(n){return arguments.length?(s=typeof n=="function"?n:+n,t):s},t.friction=function(n){return arguments.length?(l=+n,t):l},t.charge=function(n){return arguments.length?(e=typeof n=="function"?n:+n,t):e},t.gravity=function(n){return arguments.length?(p=+n,t):p},t.theta=function(n){return arguments.length?(w=+n,t):w},t.alpha=function(i){return arguments.length?(i=+i,r?r=i>0?i:0:i>0&&(h.start({type:"start",alpha:r=i}),n.timer(t.tick)),t):r},t.start=function(){function w(t,i){for(var r=d(n),u=-1,e=r.length,f;++u<e;)if(!isNaN(f=r[u][t]))return f;return Math.random()*i}function d(){if(!l){for(l=[],h=0;h<p;++h)l[h]=[];for(h=0;h<c;++h){var t=u[h];l[t.source.index].push(t.target),l[t.target.index].push(t.source)}}return l[n]}for(var h,p=i.length,c=u.length,b=f[0],k=f[1],l,r,n=0;n<p;++n)(r=i[n]).index=n,r.weight=0;for(n=0;n<c;++n)r=u[n],typeof r.source=="number"&&(r.source=i[r.source]),typeof r.target=="number"&&(r.target=i[r.target]),++r.source.weight,++r.target.weight;for(n=0;n<p;++n)r=i[n],isNaN(r.x)&&(r.x=w("x",b)),isNaN(r.y)&&(r.y=w("y",k)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(a=[],typeof o=="function")for(n=0;n<c;++n)a[n]=+o.call(this,u[n],n);else for(n=0;n<c;++n)a[n]=o;if(v=[],typeof s=="function")for(n=0;n<c;++n)v[n]=+s.call(this,u[n],n);else for(n=0;n<c;++n)v[n]=s;if(y=[],typeof e=="function")for(n=0;n<p;++n)y[n]=+e.call(this,i[n],n);else for(n=0;n<p;++n)y[n]=e;return t.resume()},t.resume=function(){return t.alpha(.1)},t.stop=function(){return t.alpha(0)},t.drag=function(){if(c||(c=n.behavior.drag().origin(d).on("dragstart.force",tb).on("drag.force",k).on("dragend.force",ib)),!arguments.length)return c;this.on("mouseover.force",rb).on("mouseout.force",ub).call(c)},n.rebind(t,h,"on")},vl=20,yl=1,n.layout.partition=function(){function u(n,t,i,r){var f=n.children,e,o,s,h;if(n.x=t,n.y=n.depth*r,n.dx=i,n.dy=r,f&&(o=f.length))for(e=-1,i=n.value?i/n.value:0;++e<o;)u(s=f[e],t,h=s.value*i,r),t+=h}function f(n){var t=n.children,i=0,r,u;if(t&&(u=t.length))for(r=-1;++r<u;)i=Math.max(i,f(t[r]));return 1+i}function i(n,i){var e=r.call(this,n,i);return u(e[0],0,t[0],t[1]/f(e[0])),e}var r=n.layout.hierarchy(),t=[1,1];return i.size=function(n){return arguments.length?(t=n,i):t},wi(i,r)},n.layout.pie=function(){function i(t){var o=t.map(function(n,t){return+e.call(i,n,t)}),h=+(typeof r=="function"?r.apply(this,arguments):r),l=((typeof f=="function"?f.apply(this,arguments):f)-r)/n.sum(o),c=n.range(t.length),s;return u!=null&&c.sort(u===le?function(n,t){return o[t]-o[n]}:function(n,i){return u(t[n],t[i])}),s=[],c.forEach(function(n){var i;s[n]={data:t[n],value:i=o[n],startAngle:h,endAngle:h+=i*l}}),s}var e=Number,u=le,r=0,f=2*t;return i.value=function(n){return arguments.length?(e=n,i):e},i.sort=function(n){return arguments.length?(u=n,i):u},i.startAngle=function(n){return arguments.length?(r=n,i):r},i.endAngle=function(n){return arguments.length?(f=n,i):f},i},le={},n.layout.stack=function(){function t(s,h){var l=s.map(function(n,i){return r.call(t,n,i)}),a=l.map(function(n){return n.map(function(n,i){return[e.call(t,n,i),o.call(t,n,i)]})}),y=u.call(t,a,h);l=n.permute(l,y),a=n.permute(a,y);for(var w=f.call(t,a,h),b=l.length,k=l[0].length,v,p,c=0;c<k;++c)for(i.call(t,l[0][c],p=w[c],a[0][c][1]),v=1;v<b;++v)i.call(t,l[v][c],p+=a[v-1][c][1],a[v][c][1]);return s}var r=d,u=ae,f=ve,i=ob,e=fb,o=eb;return t.values=function(n){return arguments.length?(r=n,t):r},t.order=function(n){return arguments.length?(u=typeof n=="function"?n:pl.get(n)||ae,t):u},t.offset=function(n){return arguments.length?(f=typeof n=="function"?n:wl.get(n)||ve,t):f},t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(o=n,t):o},t.out=function(n){return arguments.length?(i=n,t):i},t},pl=n.map({"inside-out":function(t){for(var u=t.length,i,f=t.map(sb),e=t.map(hb),l=n.range(u).sort(function(n,t){return f[n]-f[t]}),o=0,s=0,h=[],c=[],r=0;r<u;++r)i=l[r],o<s?(o+=e[i],h.push(i)):(s+=e[i],c.push(i));return c.reverse().concat(h)},reverse:function(t){return n.range(t.length).reverse()},"default":ae}),wl=n.map({silhouette:function(n){for(var s=n.length,f=n[0].length,e=[],u=0,r,i,o=[],t=0;t<f;++t){for(r=0,i=0;r<s;r++)i+=n[r][t][1];i>u&&(u=i),e.push(i)}for(t=0;t<f;++t)o[t]=(u-e[t])/2;return o},wiggle:function(n){var a=n.length,h=n[0],v=h.length,i,t,r,u,c,l,f,e,o,s=[];for(s[0]=e=o=0,t=1;t<v;++t){for(i=0,u=0;i<a;++i)u+=n[i][t][1];for(i=0,c=0,f=h[t][0]-h[t-1][0];i<a;++i){for(r=0,l=(n[i][t][1]-n[i][t-1][1])/(2*f);r<i;++r)l+=(n[r][t][1]-n[r][t-1][1])/f;c+=l*n[i][t][1]}s[t]=e-=u?c/u*f:0,e<o&&(o=e)}for(t=0;t<v;++t)s[t]-=o;return s},expand:function(n){for(var r=n.length,f=n[0].length,o=1/r,t,u,e=[],i=0;i<f;++i){for(t=0,u=0;t<r;t++)u+=n[t][i][1];if(u)for(t=0;t<r;t++)n[t][i][1]/=u;else for(t=0;t<r;t++)n[t][i][1]=o}for(i=0;i<f;++i)e[i]=0;return e},zero:ve}),n.layout.histogram=function(){function t(t,f){for(var l=[],s=t.map(r,this),a=u.call(this,s,f),h=e.call(this,a,s,f),o,f=-1,y=s.length,v=h.length-1,p=i?1:1/y,c;++f<v;)o=l[f]=[],o.dx=h[f+1]-(o.x=h[f]),o.y=0;if(v>0)for(f=-1;++f<y;)c=s[f],c>=a[0]&&c<=a[1]&&(o=l[n.bisect(h,c,1,v)-1],o.y+=p,o.push(t[f]));return l}var i=!0,r=Number,u=ab,e=lb;return t.value=function(n){return arguments.length?(r=n,t):r},t.range=function(n){return arguments.length?(u=f(n),t):u},t.bins=function(n){return arguments.length?(e=typeof n=="number"?function(t){return bl(t,n)}:f(n),t):e},t.frequency=function(n){return arguments.length?(i=!!n,t):i},t},n.layout.hierarchy=function(){function u(f,e,o){var h=r.call(n,f,e);if(f.depth=e,o.push(f),h&&(l=h.length)){for(var c=-1,l,a=f.children=[],v=0,y=e+1,s;++c<l;)s=u(h[c],y,o),s.parent=f,a.push(s),v+=s.value;i&&a.sort(i),t&&(f.value=v)}else t&&(f.value=+t.call(n,f,e)||0);return f}function f(i,r){var e=i.children,u=0,o,s,h;if(e&&(s=e.length))for(o=-1,h=r+1;++o<s;)u+=f(e[o],h);else t&&(u=+t.call(n,i,r)||0);return t&&(i.value=u),u}function n(n){var t=[];return u(n,0,t),t}var i=pb,r=vb,t=yb;return n.sort=function(t){return arguments.length?(i=t,n):i},n.children=function(t){return arguments.length?(r=t,n):r},n.value=function(i){return arguments.length?(t=i,n):t},n.revalue=function(n){return f(n,0),n},n},n.layout.pack=function(){function t(n,t){var c=u.call(this,n,t),f=c[0],h;f.x=0,f.y=0,st(f,function(n){n.r=Math.sqrt(n.value)}),st(f,gl);var e=r[0],o=r[1],s=Math.max(2*f.r/e,2*f.r/o);return i>0&&(h=i*s/2,st(f,function(n){n.r+=h}),st(f,gl),st(f,function(n){n.r-=h}),s=Math.max(2*f.r/e,2*f.r/o)),na(f,e/2,o/2,1/s),c}var u=n.layout.hierarchy().sort(bb),i=0,r=[1,1];return t.size=function(n){return arguments.length?(r=n,t):r},t.padding=function(n){return arguments.length?(i=+n,t):i},wi(t,u)},n.layout.cluster=function(){function i(n,i){var h=u.call(this,n,i),f=h[0],e,l=0;st(f,function(n){var i=n.children;i&&i.length?(n.x=nk(i),n.y=gb(i)):(n.x=e?l+=t(n,e):0,n.y=0,e=n)});var o=ia(f),s=ra(f),c=o.x-t(o,s)/2,a=s.x+t(s,o)/2;return st(f,function(n){n.x=(n.x-c)/(a-c)*r[0],n.y=(1-(f.y?n.y/f.y:1))*r[1]}),h}var u=n.layout.hierarchy().sort(null).value(null),t=ua,r=[1,1];return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(n){return arguments.length?(r=n,i):r},wi(i,u)},n.layout.tree=function(){function i(n,i){function h(n,i){var f=n.children,r=n._tree,o;if(f&&(s=f.length)){for(var s,c=f[0],e,l=c,u,v=-1;++v<s;)u=f[v],h(u,e),l=a(u,e,l),e=u;uk(n),o=.5*(c._tree.prelim+u._tree.prelim),i?(r.prelim=i._tree.prelim+t(n,i),r.mod=r.prelim-o):r.prelim=o}else i&&(r.prelim=i._tree.prelim+t(n,i))}function c(n,t){var i,r,u;if(n.x=n._tree.prelim+t,i=n.children,i&&(u=i.length))for(r=-1,t+=n._tree.mod;++r<u;)c(i[r],t)}function a(n,i,r){if(i){for(var f=n,e=n,u=i,o=n.parent.children[0],h=f._tree.mod,c=e._tree.mod,l=u._tree.mod,a=o._tree.mod,s;u=we(u),f=pe(f),u&&f;)o=pe(o),e=we(e),e._tree.ancestor=n,s=u._tree.prelim+l-f._tree.prelim-h+t(u,f),s>0&&(fk(ek(u,n,r),n,s),h+=s,c+=s),l+=u._tree.mod,h+=f._tree.mod,a+=o._tree.mod,c+=e._tree.mod;u&&!we(e)&&(e._tree.thread=u,e._tree.mod+=l-c),f&&!pe(o)&&(o._tree.thread=f,o._tree.mod+=h-a,r=n)}return r}var s=u.call(this,n,i),f=s[0];st(f,function(n,t){n._tree={ancestor:n,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}}),h(f),c(f,-f._tree.prelim);var e=tu(f,ik),o=tu(f,tk),v=tu(f,rk),l=e.x-t(e,o)/2,y=o.x+t(o,e)/2,p=v.depth||1;return st(f,function(n){n.x=(n.x-l)/(y-l)*r[0],n.y=n.depth/p*r[1],delete n._tree}),s}var u=n.layout.hierarchy().sort(null).value(null),t=ua,r=[1,1];return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(n){return arguments.length?(r=n,i):r},wi(i,u)},n.layout.treemap=function(){function c(n,t){for(var r=-1,f=n.length,u,i;++r<f;)i=(u=n[r]).value*(t<0?0:t),u.area=isNaN(i)||i<=0?0:i}function v(n){var u=n.children;if(u&&u.length){var r=s(n),t=[],f=u.slice(),h,o=Infinity,a,e=i==="slice"?r.dx:i==="dice"?r.dy:i==="slice-dice"?n.depth&1?r.dy:r.dx:Math.min(r.dx,r.dy),y;for(c(f,r.dx*r.dy/n.value),t.area=0;(y=f.length)>0;)t.push(h=f[y-1]),t.area+=h.area,i!=="squarify"||(a=p(t,e))<=o?(f.pop(),o=a):(t.area-=t.pop().area,l(t,e,r,!1),e=Math.min(r.dx,r.dy),t.length=t.area=0,o=Infinity);t.length&&(l(t,e,r,!0),t.length=t.area=0),u.forEach(v)}}function y(n){var u=n.children;if(u&&u.length){var i=s(n),f=u.slice(),r,t=[];for(c(f,i.dx*i.dy/n.value),t.area=0;r=f.pop();)t.push(r),t.area+=r.area,r.z!=null&&(l(t,r.z?i.dx:i.dy,i,!f.length),t.length=t.area=0);u.forEach(y)}}function p(n,t){for(var i=n.area,r,u=0,f=Infinity,o=-1,s=n.length;++o<s;)(r=n[o].area)&&(r<f&&(f=r),r>u&&(u=r));return i*=i,t*=t,i?Math.max(t*u*e/i,i/(t*f*e)):Infinity}function l(n,t,i,u){var h=-1,c=n.length,o=i.x,s=i.y,e=t?r(n.area/t):0,f;if(t==i.dx){for((u||e>i.dy)&&(e=i.dy);++h<c;)f=n[h],f.x=o,f.y=s,f.dy=e,o+=f.dx=Math.min(i.x+i.dx-o,e?r(f.area/e):0);f.z=!0,f.dx+=i.x+i.dx-o,i.y+=e,i.dy-=e}else{for((u||e>i.dx)&&(e=i.dx);++h<c;)f=n[h],f.x=o,f.y=s,f.dx=e,s+=f.dy=Math.min(i.y+i.dy-s,e?r(f.area/e):0);f.z=!1,f.dy+=i.y+i.dy-s,i.x+=e,i.dx-=e}}function t(n){var i=u||o(n),t=i[0];return t.x=0,t.y=0,t.dx=f[0],t.dy=f[1],u&&o.revalue(t),c([t],t.dx*t.dy/t.value),(u?y:v)(t),h&&(u=i),i}var o=n.layout.hierarchy(),r=Math.round,f=[1,1],a=null,s=be,h=!1,u,i="squarify",e=.5*(1+Math.sqrt(5));return t.size=function(n){return arguments.length?(f=n,t):f},t.padding=function(n){function u(i){var r=n.call(t,i,i.depth);return r==null?be(i):fa(i,typeof r=="number"?[r,r,r,r]:r)}function i(t){return fa(t,n)}if(!arguments.length)return a;var r;return s=(a=n)==null?be:(r=typeof n)=="function"?u:r==="number"?(n=[n,n,n,n],i):i,t},t.round=function(n){return arguments.length?(r=n?Math.round:Number,t):r!=Number},t.sticky=function(n){return arguments.length?(h=n,u=null,t):h},t.ratio=function(n){return arguments.length?(e=n,t):e},t.mode=function(n){return arguments.length?(i=n+"",t):i},wi(t,o)},n.csv=ea(",","text/csv"),n.tsv=ea("\t","text/tab-separated-values"),n.geo={},n.geo.stream=function(n,t){ke.hasOwnProperty(n.type)?ke[n.type](n,t):iu(n,t)},ke={Feature:function(n,t){iu(n.geometry,t)},FeatureCollection:function(n,t){for(var i=n.features,r=-1,u=i.length;++r<u;)iu(i[r].geometry,t)}},de={Sphere:function(n,t){t.sphere()},Point:function(n,t){var i=n.coordinates;t.point(i[0],i[1])},MultiPoint:function(n,t){for(var r=n.coordinates,u=-1,f=r.length,i;++u<f;)i=r[u],t.point(i[0],i[1])},LineString:function(n,t){ge(n.coordinates,t,0)},MultiLineString:function(n,t){for(var i=n.coordinates,r=-1,u=i.length;++r<u;)ge(i[r],t,0)},Polygon:function(n,t){oa(n.coordinates,t)},MultiPolygon:function(n,t){for(var i=n.coordinates,r=-1,u=i.length;++r<u;)oa(i[r],t)},GeometryCollection:function(n,t){for(var i=n.geometries,r=-1,u=i.length;++r<u;)iu(i[r],t)}},n.geo.albersUsa=function(){function i(n){return e(n)(n)}function e(n){var e=n[0],i=n[1];return i>50?r:e<-140?u:i<21?f:t}var t=n.geo.albers(),r=n.geo.albers().rotate([160,0]).center([0,60]).parallels([55,65]),u=n.geo.albers().rotate([160,0]).center([0,20]).parallels([8,18]),f=n.geo.albers().rotate([60,0]).center([0,10]).parallels([8,18]);return i.scale=function(n){return arguments.length?(t.scale(n),r.scale(n*.6),u.scale(n),f.scale(n*1.5),i.translate(t.translate())):t.scale()},i.translate=function(n){if(!arguments.length)return t.translate();var e=t.scale(),o=n[0],s=n[1];return t.translate(n),r.translate([o-.4*e,s+.17*e]),u.translate([o-.19*e,s+.2*e]),f.translate([o+.58*e,s+.43*e]),i},i.scale(t.scale())},(n.geo.albers=function(){var n=29.5*i,t=45.5*i,r=vo(aa),u=r(n,t);return u.parallels=function(u){return arguments.length?r(n=u[0]*i,t=u[1]*i):[n*e,t*e]},u.rotate([98,0]).center([0,38]).scale(1e3)}).raw=aa,to=bi(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)}),(n.geo.azimuthalEqualArea=function(){return pt(to)}).raw=to,io=bi(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},d),(n.geo.azimuthalEquidistant=function(){return pt(io)}).raw=io,n.geo.bounds=va(d),n.geo.centroid=function(t){h=rt=l=a=s=0,n.geo.stream(t,nt);var i;if(rt&&Math.abs(i=Math.sqrt(l*l+a*a+s*s))>r)return[Math.atan2(a,l)*e,Math.asin(Math.max(-1,Math.min(1,s/i)))*e]},nt={sphere:function(){h<2&&(h=2,rt=l=a=s=0)},point:ya,lineStart:ro,lineEnd:uo,polygonStart:function(){h<2&&(h=2,rt=l=a=s=0),nt.lineStart=sk},polygonEnd:function(){nt.lineStart=ro}},n.geo.circle=function(){function n(){var n=typeof t=="function"?t.apply(this,arguments):t,u=rv(-n[0]*i,-n[1]*i,0).invert,r=[];return f(null,null,1,{point:function(n,t){r.push(n=u(n,t)),n[0]*=e,n[1]*=e}}),{type:"Polygon",coordinates:[r]}}var t=[0,0],r,u=6,f;return n.origin=function(i){return arguments.length?(t=i,n):t},n.angle=function(t){return arguments.length?(f=fo((r=+t)*i,u*i),n):r},n.precision=function(t){return arguments.length?(f=fo(r*i,(u=+t)*i),n):u},n.angle(90)},eo=wa(ei,vk,pk),(n.geo.equirectangular=function(){return pt(eu).scale(250/t)}).raw=eu.invert=eu,oo=bi(function(n){return 1/n},Math.atan),(n.geo.gnomonic=function(){return pt(oo)}).raw=oo,n.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:a()}}function a(){return n.range(Math.ceil(u/o)*o,i,o).map(c).concat(n.range(Math.ceil(e/s)*s,f,s).map(l))}var i,u,f,e,o=22.5,s=o,c,l,h=2.5;return t.lines=function(){return a().map(function(n){return{type:"LineString",coordinates:n}})},t.outline=function(){return{type:"Polygon",coordinates:[c(u).concat(l(f).slice(1),c(i).reverse().slice(1),l(e).reverse().slice(1))]}},t.extent=function(n){return arguments.length?(u=+n[0][0],i=+n[1][0],e=+n[0][1],f=+n[1][1],u>i&&(n=u,u=i,i=n),e>f&&(n=e,e=f,f=n),t.precision(h)):[[u,e],[i,f]]},t.step=function(n){return arguments.length?(o=+n[0],s=+n[1],t):[o,s]},t.precision=function(n){return arguments.length?(h=+n,c=bk(e,f,h),l=kk(u,i,h),t):h},t.extent([[-180+r,-90+r],[180-r,90-r]])},n.geo.interpolate=function(n,t){return dk(n[0]*i,n[1]*i,t[0]*i,t[1]*i)},n.geo.greatArc=function(){function t(){for(var i=r||f.apply(this,arguments),h=u||e.apply(this,arguments),c=o||n.geo.interpolate(i,h),l=0,a=s/c.distance,t=[i];(l+=a)<1;)t.push(c(l));return t.push(h),{type:"LineString",coordinates:t}}var f=bu,r,e=wu,u,s=6*i,o;return t.distance=function(){return(o||n.geo.interpolate(r||f.apply(this,arguments),u||e.apply(this,arguments))).distance},t.source=function(i){return arguments.length?(f=i,r=typeof i=="function"?null:i,o=r&&u?n.geo.interpolate(r,u):null,t):f},t.target=function(i){return arguments.length?(e=i,u=typeof i=="function"?null:i,o=r&&u?n.geo.interpolate(r,u):null,t):e},t.precision=function(n){return arguments.length?(s=n*i,t):s/i},t},so.invert=function(n,i){return[2*t*n,2*Math.atan(Math.exp(2*t*i))-t/2]},(n.geo.mercator=function(){return pt(so).scale(500)}).raw=so,ho=bi(function(){return 1},Math.asin),(n.geo.orthographic=function(){return pt(ho)}).raw=ho,n.geo.path=function(){function t(t){return t&&n.geo.stream(t,r(u.pointRadius(typeof i=="function"?+i.apply(this,arguments):i))),u.result()}var i=4.5,f,e,r,u;return t.area=function(t){return co=0,n.geo.stream(t,r(ht)),co},t.centroid=function(t){return h=l=a=s=0,n.geo.stream(t,r(tt)),s?[l/s,a/s]:undefined},t.bounds=function(n){return va(r)(n)},t.projection=function(n){return arguments.length?(r=(f=n)?n.stream||gk(n):d,t):f},t.context=function(n){return arguments.length?(u=(e=n)==null?new nd:new td(n),t):e},t.pointRadius=function(n){return arguments.length?(i=typeof n=="function"?n:+n,t):i},t.projection(n.geo.albersUsa()).context(null)},ht={point:w,lineStart:w,lineEnd:w,polygonStart:function(){lo=0,ht.lineStart=id},polygonEnd:function(){ht.lineStart=ht.lineEnd=ht.point=w,co+=Math.abs(lo/2)}},tt={point:ao,lineStart:tv,lineEnd:iv,polygonStart:function(){tt.lineStart=rd},polygonEnd:function(){tt.point=ao,tt.lineStart=tv,tt.lineEnd=iv}},n.geo.area=function(t){return ou=0,n.geo.stream(t,ct),ou},ct={sphere:function(){ou+=4*t},point:w,lineStart:w,lineEnd:w,polygonStart:function(){su=1,hu=0,ct.lineStart=ud},polygonEnd:function(){var n=2*Math.atan2(hu,su);ou+=n<0?4*t+n:n,ct.lineStart=ct.lineEnd=ct.point=w}},n.geo.projection=pt,n.geo.projectionMutator=vo,yo=bi(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)}),(n.geo.stereographic=function(){return pt(yo)}).raw=yo,n.geom={},n.geom.hull=function(n){var p;if(n.length<3)return[];for(var a=n.length,w=a-1,i=[],f=[],r,u=0,o,s,v,y,c,h,l,e,t=1;t<a;++t)n[t][1]<n[u][1]?u=t:n[t][1]==n[u][1]&&(u=n[t][0]<n[u][0]?t:u);for(t=0;t<a;++t)t!==u&&(s=n[t][1]-n[u][1],o=n[t][0]-n[u][0],i.push({angle:Math.atan2(s,o),index:t}));for(i.sort(function(n,t){return n.angle-t.angle}),l=i[0].angle,h=i[0].index,c=0,t=1;t<w;++t)r=i[t].index,l==i[t].angle?(o=n[h][0]-n[u][0],s=n[h][1]-n[u][1],v=n[r][0]-n[u][0],y=n[r][1]-n[u][1],o*o+s*s>=v*v+y*y?i[t].index=-1:(i[c].index=-1,l=i[t].angle,c=t,h=r)):(l=i[t].angle,c=t,h=r);for(f.push(u),t=0,r=0;t<2;++r)i[r].index!==-1&&(f.push(i[r].index),t++);for(e=f.length;r<w;++r)if(i[r].index!==-1){while(!ed(f[e-2],f[e-1],i[r].index,n))--e;f[e++]=i[r].index}for(p=[],t=0;t<e;++t)p.push(n[f[t]]);return p},n.geom.polygon=function(n){return n.area=function(){for(var t=0,i=n.length,r=n[i-1][1]*n[0][0]-n[i-1][0]*n[0][1];++t<i;)r+=n[t-1][1]*n[t][0]-n[t-1][0]*n[t][1];return r*.5},n.centroid=function(t){var f=-1,e=n.length,o=0,s=0,r,i=n[e-1],u;for(arguments.length||(t=-1/(6*n.area()));++f<e;)r=i,i=n[f],u=r[0]*i[1]-i[0]*r[1],o+=(r[0]+i[0])*u,s+=(r[1]+i[1])*u;return[o*t,s*t]},n.clip=function(t){for(var e,s=-1,h=n.length,o,c,r=n[h-1],i,u,f;++s<h;){for(e=t.slice(),t.length=0,i=n[s],u=e[(c=e.length)-1],o=-1;++o<c;)f=e[o],po(f,r,i)?(po(u,r,i)||t.push(ov(u,f,r,i)),t.push(f)):po(u,r,i)&&t.push(ov(u,f,r,i)),u=f;r=i}return t},n},n.geom.voronoi=function(t){var u=t.map(function(){return[]}),i=1e6;return sv(t,function(n){var t,r,f,e,o,s,h,c;n.a===1&&n.b>=0?(t=n.ep.r,r=n.ep.l):(t=n.ep.l,r=n.ep.r),n.a===1?(o=t?t.y:-i,f=n.c-n.b*o,s=r?r.y:i,e=n.c-n.b*s):(f=t?t.x:-i,o=n.c-n.a*f,e=r?r.x:i,s=n.c-n.a*e),h=[f,o],c=[e,s],u[n.region.l.index].push(h,c),u[n.region.r.index].push(h,c)}),u=u.map(function(i,u){var o=t[u][0],s=t[u][1],f=i.map(function(n){return Math.atan2(n[0]-o,n[1]-s)}),e=n.range(i.length).sort(function(n,t){return f[n]-f[t]});return e.filter(function(n,t){return!t||f[n]-f[e[t-1]]>r}).map(function(n){return i[n]})}),u.forEach(function(n,u){var l=n.length,h,f,c;if(!l)return n.push([-i,-i],[-i,i],[i,i],[i,-i]);if(!(l>2)){var a=t[u],v=n[0],y=n[1],p=a[0],w=a[1],e=v[0],o=v[1],b=y[0],k=y[1],d=Math.abs(b-e),s=k-o;Math.abs(s)<r?(f=w<o?-i:i,n.push([-i,f],[i,f])):d<r?(h=p<e?-i:i,n.push([h,-i],[h,i])):(f=(b-e)*(o-w)<(e-p)*(k-o)?i:-i,c=Math.abs(s)-d,Math.abs(c)<r?n.push([s<0?f:-f,f]):(c>0&&(f*=-1),n.push([-i,f],[i,f])))}}),u},cu={l:"r",r:"l"},n.geom.delaunay=function(n){var t=n.map(function(){return[]}),i=[];return sv(n,function(i){t[i.region.l.index].push(n[i.region.r.index])}),t.forEach(function(t,r){var f=n[r],o=f[0],s=f[1],u,e;for(t.forEach(function(n){n.angle=Math.atan2(n[0]-o,n[1]-s)}),t.sort(function(n,t){return n.angle-t.angle}),u=0,e=t.length-1;u<e;u++)i.push([f,t[u],t[u+1]])}),i},n.geom.quadtree=function(n,t,i,r,u){function l(n,t,i,r,u,f){if(!isNaN(t.x)&&!isNaN(t.y))if(n.leaf){var e=n.point;e?Math.abs(e.x-t.x)+Math.abs(e.y-t.y)<.01?o(n,t,i,r,u,f):(n.point=null,o(n,e,i,r,u,f),o(n,t,i,r,u,f)):n.point=t}else o(n,t,i,r,u,f)}function o(n,t,i,r,u,f){var e=(i+u)*.5,o=(r+f)*.5,s=t.x>=e,h=t.y>=o,c=(h<<1)+s;n.leaf=!1,n=n.nodes[c]||(n.nodes[c]=hv()),s?i=e:u=e,h?r=o:f=o,l(n,t,i,r,u,f)}var f,c=-1,a=n.length,s,h,e;if(arguments.length<5)if(arguments.length===3)u=i,r=t,i=t=0;else for(t=i=Infinity,r=u=-Infinity;++c<a;)f=n[c],f.x<t&&(t=f.x),f.y<i&&(i=f.y),f.x>r&&(r=f.x),f.y>u&&(u=f.y);return s=r-t,h=u-i,s>h?u=i+s:r=t+h,e=hv(),e.add=function(n){l(e,n,t,i,r,u)},e.visit=function(n){ki(n,e,t,i,r,u)},n.forEach(e.add),e},n.time={},v=Date,cv=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],wt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){lt.setUTCDate.apply(this._,arguments)},setDay:function(){lt.setUTCDay.apply(this._,arguments)},setFullYear:function(){lt.setUTCFullYear.apply(this._,arguments)},setHours:function(){lt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){lt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){lt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){lt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){lt.setUTCSeconds.apply(this._,arguments)},setTime:function(){lt.setTime.apply(this._,arguments)}};var lt=Date.prototype,lv=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],av=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wo=["January","February","March","April","May","June","July","August","September","October","November","December"],bo=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.time.format=function(n){function t(t){for(var f=[],r=-1,e=0,u,o,s;++r<i;)n.charCodeAt(r)===37&&(f.push(n.substring(e,r)),(o=hd[u=n.charAt(++r)])!=null&&(u=n.charAt(++r)),(s=vu[u])&&(u=s(t,o==null?u==="e"?" ":"0":o)),f.push(u),e=r+1);return f.push(n.substring(e,r)),f.join("")}var i=n.length;return t.parse=function(t){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},u=lu(i,n,t,0),r;return u!=t.length?null:("p"in i&&(i.H=i.H%12+i.p*12),r=new v,r.setFullYear(i.y,i.m,i.d),r.setHours(i.H,i.M,i.S,i.L),r)},t.toString=function(){return n},t};var yv=au(lv),pv=au(av),wv=au(wo),od=vv(wo),bv=au(bo),sd=vv(bo),hd={"-":"",_:" ","0":"0"},vu={a:function(n){return av[n.getDay()]},A:function(n){return lv[n.getDay()]},b:function(n){return bo[n.getMonth()]},B:function(n){return wo[n.getMonth()]},c:n.time.format("%a %b %e %X %Y"),d:function(n,t){return p(n.getDate(),t,2)},e:function(n,t){return p(n.getDate(),t,2)},H:function(n,t){return p(n.getHours(),t,2)},I:function(n,t){return p(n.getHours()%12||12,t,2)},j:function(t,i){return p(1+n.time.dayOfYear(t),i,3)},L:function(n,t){return p(n.getMilliseconds(),t,3)},m:function(n,t){return p(n.getMonth()+1,t,2)},M:function(n,t){return p(n.getMinutes(),t,2)},p:function(n){return n.getHours()>=12?"PM":"AM"},S:function(n,t){return p(n.getSeconds(),t,2)},U:function(t,i){return p(n.time.sundayOfYear(t),i,2)},w:function(n){return n.getDay()},W:function(t,i){return p(n.time.mondayOfYear(t),i,2)},x:n.time.format("%m/%d/%Y"),X:n.time.format("%H:%M:%S"),y:function(n,t){return p(n.getFullYear()%100,t,2)},Y:function(n,t){return p(n.getFullYear()%1e4,t,4)},Z:fg,"%":function(){return"%"}},cd={a:ld,A:ad,b:vd,B:yd,c:pd,d:kv,e:kv,H:dv,I:dv,L:rg,m:ng,M:tg,p:ug,S:ig,x:wd,X:bd,y:dd,Y:kd};y=/^\s*\d+/,gv=n.map({am:0,pm:1}),n.time.format.utc=function(t){function r(n){try{v=wt;var t=new v;return t._=n,i(t)}finally{v=Date}}var i=n.time.format(t);return r.parse=function(n){try{v=wt;var t=i.parse(n);return t&&t._}finally{v=Date}},r.toString=i.toString,r},ko=n.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ"),n.time.format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?go:ko,go.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},go.toString=ko.toString,n.time.second=bt(function(n){return new v(Math.floor(n/1e3)*1e3)},function(n,t){n.setTime(n.getTime()+Math.floor(t)*1e3)},function(n){return n.getSeconds()}),n.time.seconds=n.time.second.range,n.time.seconds.utc=n.time.second.utc.range,n.time.minute=bt(function(n){return new v(Math.floor(n/6e4)*6e4)},function(n,t){n.setTime(n.getTime()+Math.floor(t)*6e4)},function(n){return n.getMinutes()}),n.time.minutes=n.time.minute.range,n.time.minutes.utc=n.time.minute.utc.range,n.time.hour=bt(function(n){var t=n.getTimezoneOffset()/60;return new v((Math.floor(n/36e5-t)+t)*36e5)},function(n,t){n.setTime(n.getTime()+Math.floor(t)*36e5)},function(n){return n.getHours()}),n.time.hours=n.time.hour.range,n.time.hours.utc=n.time.hour.utc.range,n.time.day=bt(function(n){var t=new v(1970,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),n.time.days=n.time.day.range,n.time.days.utc=n.time.day.utc.range,n.time.dayOfYear=function(t){var i=n.time.year(t);return Math.floor((t-i-(t.getTimezoneOffset()-i.getTimezoneOffset())*6e4)/864e5)},cv.forEach(function(t,i){t=t.toLowerCase(),i=7-i;var r=n.time[t]=bt(function(t){return(t=n.time.day(t)).setDate(t.getDate()-(t.getDay()+i)%7),t},function(n,t){n.setDate(n.getDate()+Math.floor(t)*7)},function(t){var r=n.time.year(t).getDay();return Math.floor((n.time.dayOfYear(t)+(r+i)%7)/7)-(r!==i)});n.time[t+"s"]=r.range,n.time[t+"s"].utc=r.utc.range,n.time[t+"OfYear"]=function(t){var r=n.time.year(t).getDay();return Math.floor((n.time.dayOfYear(t)+(r+i)%7)/7)}}),n.time.week=n.time.sunday,n.time.weeks=n.time.sunday.range,n.time.weeks.utc=n.time.sunday.utc.range,n.time.weekOfYear=n.time.sundayOfYear,n.time.month=bt(function(t){return t=n.time.day(t),t.setDate(1),t},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),n.time.months=n.time.month.range,n.time.months.utc=n.time.month.utc.range,n.time.year=bt(function(t){return t=n.time.day(t),t.setMonth(0,1),t},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),n.time.years=n.time.year.range,n.time.years.utc=n.time.year.utc.range;var pu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],rs=[[n.time.second,1],[n.time.second,5],[n.time.second,15],[n.time.second,30],[n.time.minute,1],[n.time.minute,5],[n.time.minute,15],[n.time.minute,30],[n.time.hour,1],[n.time.hour,3],[n.time.hour,6],[n.time.hour,12],[n.time.day,1],[n.time.day,2],[n.time.week,1],[n.time.month,1],[n.time.month,3],[n.time.year,1]],sg=[[n.time.format("%Y"),ei],[n.time.format("%B"),function(n){return n.getMonth()}],[n.time.format("%b %d"),function(n){return n.getDate()!=1}],[n.time.format("%a %d"),function(n){return n.getDay()&&n.getDate()!=1}],[n.time.format("%I %p"),function(n){return n.getHours()}],[n.time.format("%I:%M"),function(n){return n.getMinutes()}],[n.time.format(":%S"),function(n){return n.getSeconds()}],[n.time.format(".%L"),function(n){return n.getMilliseconds()}]],ty=n.scale.linear(),hg=ny(sg);rs.year=function(n,t){return ty.domain(n.map(og)).ticks(t).map(is)},n.time.scale=function(){return ns(n.scale.linear(),rs,hg)};var iy=rs.map(function(n){return[n[0].utc,n[1]]}),cg=[[n.time.format.utc("%Y"),ei],[n.time.format.utc("%B"),function(n){return n.getUTCMonth()}],[n.time.format.utc("%b %d"),function(n){return n.getUTCDate()!=1}],[n.time.format.utc("%a %d"),function(n){return n.getUTCDay()&&n.getUTCDate()!=1}],[n.time.format.utc("%I %p"),function(n){return n.getUTCHours()}],[n.time.format.utc("%I:%M"),function(n){return n.getUTCMinutes()}],[n.time.format.utc(":%S"),function(n){return n.getUTCSeconds()}],[n.time.format.utc(".%L"),function(n){return n.getUTCMilliseconds()}]],lg=ny(cg);return iy.year=function(n,t){return ty.domain(n.map(ag)).ticks(t).map(us)},n.time.scale.utc=function(){return ns(n.scale.linear(),iy,lg)},n}();
//@ sourceMappingURL=d3.min.js.map